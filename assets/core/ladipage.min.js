String.prototype.replaceAll = function (t, e) {
    return this.valueOf().split(t).join(e)
}, String.prototype.format = function () {
    for (var t = this, e = 0; e < arguments.length; e++) {
        var i = new RegExp("\\{" + e + "\\}", "gi");
        t = t.replace(i, arguments[e])
    }
    return t.valueOf()
}, Array.prototype.removeSpace = function () {
    var t = [];
    return this.forEach(function (e) {
        (e = e.trim()).length > 0 && t.push(e)
    }), t
}, Array.prototype.random = function () {
    return this[Math.floor(Math.random() * this.length)]
}, Array.prototype.unique = function () {
    return this.filter(function (t, e, i) {
        return i.indexOf(t) == e
    })
}, Array.prototype.except = function (t) {
    var e = this;
    return Array.isArray(t) && t.forEach(function (t) {
        var i = e.indexOf(t);
        -1 != i && e.splice(i, 1)
    }), e
}, Array.prototype.only = function (t) {
    var e = [];
    return Array.isArray(t) && this.forEach(function (i) {
        -1 != t.indexOf(i) && e.push(i)
    }), e
}, Array.prototype.insert = function (t, e) {
    this.splice(t, 0, e)
};
var LadiPageScriptV2 = LadiPageScriptV2 || function () {
};
LadiPageScriptV2.prototype.init = function () {
    this.const = {
        DESKTOP: "desktop",
        MOBILE: "mobile",
        DOMAIN_GOOGLE_DOCS: "docs.google.com",
        POWERED_BY_IMAGE: "https://w.ladicdn.com/source/ladipage-loader.svg",
        STATIC_W_DOMAIN: "w.ladicdn.com",
        STATIC_S_DOMAIN: "s.ladicdn.com",
        APP_RUNTIME_PREFIX: "_runtime",
        DATA_ACTION_TYPE: {
            link: "link",
            section: "section",
            email: "email",
            phone: "phone",
            popup: "popup",
            hidden_show: "hidden_show",
            lightbox_image: "lightbox_image",
            lightbox_video: "lightbox_video",
            lightbox_iframe: "lightbox_iframe"
        },
        COUNTDOWN_TYPE: {countdown: "countdown", daily: "daily", endtime: "endtime"},
        COUNTDOWN_ITEM_TYPE: {day: "day", hour: "hour", minute: "minute", seconds: "seconds"},
        VIDEO_TYPE: {youtube: "youtube", direct: "direct"},
        PUBLISH_PLATFORM: {
            ladipage: "LADIPAGE",
            ladipagedns: "LADIPAGEDNS",
            wordpress: "WORDPRESS",
            haravan: "HARAVAN",
            sapo: "SAPO",
            shopify: "SHOPIFY",
            itop: "ITOPWEBSITE",
            ftp: "FTP",
            other: "OTHER"
        },
        TRACKING_NAME: "ladicid",
        PUBLISH_STYLE: {desktop_min_width: 768, mobile_small_min_width: 320},
        ANIMATED_LIST: ["rotate-1", "rotate-2", "rotate-3", "type", "scale", "loading-bar", "slide", "clip", "zoom", "push"],
        POSITION_TYPE: {
            default: "default",
            top: "top",
            bottom: "bottom",
            top_left: "top_left",
            top_center: "top_center",
            top_right: "top_right",
            center_left: "center_left",
            center_right: "center_right",
            bottom_left: "bottom_left",
            bottom_center: "bottom_center",
            bottom_right: "bottom_right"
        },
        COLLECTION_TYPE: {carousel: "carousel", readmore: "readmore"},
        INPUT_TYPE: {
            tel: "tel",
            text: "text",
            select_multiple: "select_multiple",
            number: "number",
            email: "email",
            textarea: "textarea",
            select: "select",
            radio: "radio",
            checkbox: "checkbox",
            setting_product_variant: "setting_product_variant"
        },
        CONTENT_TYPE: {form_data: "FORM_DATA", form_urlencoded: "X_WWW_FORM_URLENCODED", json: "JSON"},
        SETTING_PRODUCT_VARIANT_TYPE: {combined: "combined", combobox: "combobox"},
        SETTING_PRODUCT_VARIANT_TITLE: {left: "left", top: "top"},
        FORM_THANKYOU_TYPE: {default: "default", url: "url", popup: "popup"},
        GAME_RESULT_TYPE: {default: "default", popup: "popup"},
        PERCENT_TRACKING_SCROLL: [0, 25, 50, 75, 100],
        TIME_ONPAGE_TRACKING: [10, 30, 60, 120, 180, 300, 600],
        FORM_CONFIG_TYPE: {
            email: "EMAIL",
            mail_chimp: "MAIL_CHIMP",
            infusion_soft: "INFUSION_SOFT",
            active_campaign: "ACTIVE_CAMPAIGN",
            hubspot: "HUBSPOT",
            smtp: "SMTP",
            get_response: "GET_RESPONSE",
            telegram: "TELEGRAM",
            slack: "SLACK",
            google_sheet: "GOOGLE_SHEET",
            google_form: "GOOGLE_FORM",
            custom_api: "CUSTOM_API",
            ladisales: "LADISALES",
            haravan: "HARAVAN",
            sapo: "SAPO",
            shopify: "SHOPIFY",
            metu: "METU"
        },
        CART_LAYOUT: {editable: "editable", viewonly: "viewonly"},
        WIDTH_SECTION_RESIZE: {},
        RESIZE_ADD_PIXEL: 300,
        RESIZE_ADD_PIXEL_THUMB: 50,
        RESIZE_RANGE: 50,
        LANG: {
            ALERT_TITLE: "Alert",
            ALERT_BUTTON_TEXT: "OK",
            GAME_RESULT_MESSAGE: "Chúc mừng bạn nhận được {{coupon_text}}. Nhập mã: {{coupon_code}} để sử dụng. Bạn còn {{spin_turn_left}} lượt quay.",
            GAME_MAX_TURN_MESSAGE: "Bạn đã hết lượt quay.",
            FORM_SEND_DATA_ERROR: "Đã xảy ra lỗi, vui lòng thử lại!",
            FORM_SEND_DATA_NO_CONFIG: "Vui lòng kiểm tra lại cấu hình Form!",
            FORM_THANKYOU_MESSAGE_DEFAULT: "Cảm ơn bạn đã quan tâm!",
            FORM_INPUT_REQUIRED_ERROR: "Vui lòng nhập đầy đủ các trường thông tin!",
            FORM_INPUT_EMAIL_REGEX: "Vui lòng nhập đúng định dạng email!",
            FORM_INPUT_TEXT_REGEX: "Vui lòng nhập đúng định dạng!",
            ADD_TO_CART_NO_QUANTITY: "Sản phẩm đã hết số lượng!",
            ADD_TO_CART_QUANTITY_REQUIRED: "Vui lòng nhập số lượng!",
            ADD_TO_CART_NO_PRODUCT: "Không tìm thấy thông tin sản phẩm, vui lòng thử lại sau!",
            HIDE_ELEMENT: "Ẩn phần tử",
            SHOW_ELEMENT: "Hiện phần tử",
            TOP_ELEMENT: "Kéo Section lên đầu",
            SCROLL_ELEMENT: "Kéo tới Section",
            SET_COOKIE: "Thiết lập Cookie"
        }
    }, this.runtime = {
        backdrop_popup_id: "backdrop-popup",
        lightbox_screen_id: "lightbox-screen",
        builder_section_popup_id: "SECTION_POPUP",
        ladipage_powered_by_classname: "ladipage_powered_by",
        current_element_mouse_down_carousel: null,
        current_element_mouse_down_carousel_position_x: 0,
        current_element_mouse_down_carousel_diff: 40,
        current_element_mouse_down_gallery_control: null,
        current_element_mouse_down_gallery_control_time: 0,
        current_element_mouse_down_gallery_control_time_click: 300,
        current_element_mouse_down_gallery_control_position_x: 0,
        current_element_mouse_down_gallery_view: null,
        current_element_mouse_down_gallery_view_position_x: 0,
        current_element_mouse_down_gallery_view_diff: 40,
        scroll_show_popup: {},
        scroll_depth: [],
        scroll_to_section: {},
        isMobileOnly: !1,
        interval_countdown: null,
        interval_gallery: null,
        timeout_gallery: {},
        interval_carousel: null,
        timenext_carousel: {},
        isClient: !1,
        isDesktop: !0,
        isIE: !1,
        isYouTubeIframeAPIReady: !1,
        isLoadYouTubeIframeAPI: !1,
        device: this.const.DESKTOP,
        ladipage_id: null,
        list_scroll_func: {},
        list_youtube_ready_exec: [],
        list_lightbox_id: {},
        list_set_value_name_country: ["ward", "district", "state", "country"],
        tmp: {},
        tabindexForm: 0,
        eventData: {},
        timenow: 0,
        widthScrollBar: 0,
        replaceStr: {},
        replacePrefixStart: "{{",
        replacePrefixEnd: "}}"
    }, this.const.WIDTH_SECTION_RESIZE[this.const.DESKTOP] = 1440, this.const.WIDTH_SECTION_RESIZE[this.const.MOBILE] = 768
}, LadiPageScriptV2.prototype.run = function (t) {
    var e = this;
    this.runtime.isIE = !!document.documentMode, this.runtime.isIE = this.runtime.isIE ? this.runtime.isIE : !this.runtime.isIE && !!window.StyleMedia, this.runtime.isClient = t, this.runtime.timenow = this.getCookie("_timenow"), this.isEmpty(this.runtime.timenow) ? (this.runtime.timenow = Date.now(), this.setCookie(null, "_timenow", this.runtime.timenow, 0, !0, window.location.pathname)) : this.runtime.timenow = parseFloatLadiPage(this.runtime.timenow) || 0;
    try {
        this.runtime.widthScrollBar = window.innerWidth - document.documentElement.clientWidth
    } catch (t) {
    }
    if (t) {
        if (this.isString(this.runtime.eventData)) try {
            var i = decodeURIComponent(this.runtime.eventData);
            this.runtime.eventData = JSON.parse(i)
        } catch (t) {
            String.prototype.decode = function () {
                return this.valueOf().replaceAll(/&amp;/g, "&").replaceAll(/&gt;/g, ">").replaceAll(/&lt;/g, "<").replaceAll(/&quot;/g, '"')
            };
            var a = this.runtime.eventData.decode();
            a = a.replaceAll("\r\n", "").replaceAll("\n", ""), this.runtime.eventData = JSON.parse(a)
        }
    } else this.runtime.isMobileOnly = LadiPage.data.is_mobile_only, this.runtime.eventData = LadiPage.generateEventDataAll(t), this.runtime.ladipage_id = LadiPage.publish.id, this.runtime.publish_platform = LadiPage.publish.type, this.runtime.bodyFontSize = 12, this.runtime.store_id = LadiPage.getRootScope().getStoreId(), this.runtime.time_zone = LadiPage.getRootScope().getStoreTimezone(!0), this.runtime.currency = LadiPage.getRootScope().getStoreCurrency();
    this.runtime.isMobileOnly && Object.keys(e.runtime.eventData).forEach(function (t) {
        Object.keys(e.runtime.eventData[t]).forEach(function (i) {
            if (i.toLowerCase().startsWith(e.const.MOBILE)) {
                var a = e.const.DESKTOP + i.substring(e.const.MOBILE.length);
                e.runtime.eventData[t][a] = e.runtime.eventData[t][i]
            }
        })
    });
    this.isNull(window.ladi_is_desktop) ? this.runtime.isDesktop = t ? !/android|webos|iphone|ipad|ipod|blackberry|iemobile|opera mini/i.test(navigator.userAgent.toLowerCase()) : LadiPage.isDesktop() : this.runtime.isDesktop = t ? window.ladi_is_desktop : LadiPage.isDesktop(), this.runtime.device = this.runtime.isDesktop ? this.const.DESKTOP : this.const.MOBILE, this.runtime.tmp.isFirstScroll = !0, this.runtime.tmp.capture_form_data_last = {}, this.runtime.tmp.runAfterLocation = [], this.runtime.tmp.product_info = {}, this.runtime.tmp.timeout_product_info = {}, this.runtime.tmp.product_tag_info = {}, this.runtime.tmp.timeout_product_tag_info = {}, this.runtime.tmp.cart = [], this.runtime.tmp.add_to_cart_total_discount = 0, this.runtime.tmp.add_to_cart_fee_shipping = 0, this.runtime.tmp.is_click_add_to_cart = !1, this.runtime.tmp.is_click_check_price_discount = !1, this.runtime.tmp.current_use_coupon = null, this.changeTotalPriceCart();
    var n = function (t) {
        var i = e.copy(t);
        return e.isObject(i) && e.runtime.list_set_value_name_country.forEach(function (t) {
            if (!e.isEmpty(i[t])) {
                var a = i[t].split(":");
                a.length > 1 && a.shift(), i[t] = a.join(":")
            }
        }), i
    }, r = e.getURLSearchParams(window.location.search, null, !0), o = n(r), l = "";
    Object.keys(o).forEach(function (t) {
        t != e.const.TRACKING_NAME && (e.setDataReplaceStr(t, o[t]), (e.isArray(r[t]) ? r[t] : [r[t]]).forEach(function (i) {
            e.isEmpty(l) ? l += "?" : l += "&", l += t + "=" + encodeURIComponent(i)
        }))
    }), this.deleteCookie(this.const.TRACKING_NAME), this.historyReplaceState(window.location.pathname + l + window.location.hash);
    var s, c = this.runtime.isDesktop, d = Object.keys(this.runtime.eventData), u = e.getCookie("LADI_CLIENT_ID"),
        p = parseFloatLadiPage(e.getCookie("LADI_FORM_SUBMIT")) || 0,
        m = parseFloatLadiPage(e.getCookie("LADI_PAGE_VIEW")) || 0, g = e.getCookie("LADI_CAMP_ID"),
        y = e.getCookie("LADI_CAMP_NAME"), _ = e.getCookie("LADI_CAMP_TYPE"), f = e.getCookie("LADI_CAMP_TARGET_URL"),
        h = e.getCookie("LADI_CAMP_ORIGIN_URL"), v = parseFloatLadiPage(e.getCookie("LADI_CAMP_PAGE_VIEW")) || 0,
        E = parseFloatLadiPage(e.getCookie("LADI_CAMP_FORM_SUBMIT")) || 0,
        L = parseFloatLadiPage(e.getCookie("LADI_PAGE_VIEW_DAILY")) || 0,
        P = parseFloatLadiPage(e.getCookie("LADI_FORM_SUBMIT_DAILY")) || 0,
        A = parseFloatLadiPage(e.getCookie("LADI_CAMP_PAGE_VIEW_DAILY")) || 0,
        S = parseFloatLadiPage(e.getCookie("LADI_CAMP_FORM_SUBMIT_DAILY")) || 0, w = e.getCookie("LADI_CAMP_CONFIG"),
        b = function (t, i, a) {
            if ("FormSubmit" == t && e.isEmpty(u)) e.isFunction(a) && a(); else {
                var n = e.runtime.publish_platform, r = {
                    event: t,
                    pixel_id: e.runtime.store_id,
                    time_zone: e.runtime.time_zone,
                    domain: window.location.host,
                    url: window.location.href,
                    ladipage_id: e.runtime.ladipage_id,
                    publish_platform: n,
                    data: []
                };

            }
        }, C = function (t, i, a, n) {
            if (t = t || document.getElementById(i), !e.isEmpty(t)) if (e.isEmpty(n)) t.addEventListener("click", function (t) {
                e.runEventTracking(i, !1)
            }); else {
                if (n.type == e.const.DATA_ACTION_TYPE.link && t.addEventListener("click", function (a) {
                    if ("true" == t.getAttribute("data-action") && !e.isEmpty(n.action)) {
                        var r = n.action;
                        r = e.getLinkUTMRedirect(r, window.location.search), r = e.convertDataReplaceStr(r, !0), window.ladi(r).open_url(n.target)
                    }
                    e.runEventTracking(i, !1)
                }), n.type == e.const.DATA_ACTION_TYPE.email && t.addEventListener("click", function (a) {
                    "true" != t.getAttribute("data-action") || e.isEmpty(n.action) || window.ladi("mailto:" + n.action).open_url(), e.runEventTracking(i, !1)
                }), n.type == e.const.DATA_ACTION_TYPE.phone && t.addEventListener("click", function (a) {
                    "true" != t.getAttribute("data-action") || e.isEmpty(n.action) || window.ladi("tel:" + n.action).open_url(), e.runEventTracking(i, !1)
                }), n.type == e.const.DATA_ACTION_TYPE.section && t.addEventListener("click", function (a) {
                    var r = document.getElementById(n.action);
                    if (!e.isEmpty(r)) {
                        var o = e.findAncestor(t, "ladi-popup");
                        if (!e.isEmpty(o)) {
                            var l = e.findAncestor(o, "ladi-element");
                            l.hasAttribute("data-popup-backdrop") && window.ladi(l.id).hide()
                        }
                        window.ladi(n.action).scroll(), e.runEventTracking(i, !1)
                    }
                }), n.type == e.const.DATA_ACTION_TYPE.popup && t.addEventListener("click", function (t) {
                    var a = document.getElementById(n.action);
                    e.isEmpty(a) || window.ladi(n.action).show(), e.runEventTracking(i, !1)
                }), n.type == e.const.DATA_ACTION_TYPE.hidden_show && t.addEventListener("click", function (t) {
                    e.isArray(n.hidden_ids) && n.hidden_ids.forEach(function (t) {
                        window.ladi(t).hide()
                    }), e.isArray(n.show_ids) && n.show_ids.forEach(function (t) {
                        window.ladi(t).show()
                    }), e.runEventTracking(i, !1)
                }), n.type == e.const.DATA_ACTION_TYPE.lightbox_image && t.addEventListener("click", function (t) {
                    lightbox_image(n.image_url), e.runEventTracking(i, !1)
                }), n.type == e.const.DATA_ACTION_TYPE.lightbox_video) {
                    var r = document.querySelectorAll("#" + i + " > .preload").length > 0;
                    r && lightbox_video(n.video_url, n.video_type, r), t.addEventListener("click", function (t) {
                        lightbox_video(n.video_url, n.video_type, !1), e.runEventTracking(i, !1)
                    })
                }
                n.type == e.const.DATA_ACTION_TYPE.lightbox_iframe && t.addEventListener("click", function (t) {
                    lightbox_iframe(n.iframe_url), e.runEventTracking(i, !1)
                })
            }
        }, T = function (t, i, a, n) {
            if (e.isEmpty(e.runtime.timeout_gallery[t]) && e.isEmpty(e.runtime.current_element_mouse_down_gallery_view) && e.isEmpty(e.runtime.current_element_mouse_down_gallery_control)) {
                var r = document.getElementById(t);
                if (!(e.isEmpty(r) || e.runtime.tmp.gallery_playing_video && i)) {
                    var o = r.getElementsByClassName("ladi-gallery-view-item"),
                        l = r.getElementsByClassName("ladi-gallery-control-item");
                    if (0 != o.length && 0 != o.length) {
                        var s = r.getAttribute("data-is-next") || "true";
                        s = "true" == s.toLowerCase();
                        var c = parseFloatLadiPage(r.getAttribute("data-current")) || 0,
                            d = parseFloatLadiPage(r.getAttribute("data-max-item")) || 0;
                        i ? s ? c >= d - 1 ? (c = d - 2, s = !1) : c++ : c <= 0 ? (c = 1, s = !0) : c-- : s ? c++ : c--, c < 0 && (c = 0), c >= d - 1 && (c = d - 1), e.isEmpty(a) && (a = s ? "next" : "prev"), e.isEmpty(n) && (n = s ? "left" : "right"), e.runtime.tmp.gallery_playing_video && !o[c].classList.contains("selected") && e.pauseAllVideo(), o[c].classList.add(a), r.querySelectorAll(".ladi-gallery-view-item.selected")[0].classList.add(n);
                        var u = 1e3 * (parseFloatLadiPage(getComputedStyle(o[c]).transitionDuration) || 0);
                        e.runtime.timeout_gallery[t] = e.runTimeout(function () {
                            o[c].classList.add(n), e.runtime.timeout_gallery[t] = e.runTimeout(function () {
                                for (var i = 0; i < o.length; i++) i == c ? o[i].classList.add("selected") : o[i].classList.remove("selected"), o[i].style.removeProperty("left"), o[i].classList.remove(a), o[i].classList.remove(n);
                                delete e.runtime.timeout_gallery[t]
                            }, u - 5)
                        }, 5);
                        for (var p = 0; p < l.length; p++) (parseFloatLadiPage(l[p].getAttribute("data-index")) || 0) == c ? l[p].classList.add("selected") : l[p].classList.remove("selected");
                        var m = e.getElementBoundingClientRect(r),
                            g = e.getElementBoundingClientRect(r.getElementsByClassName("ladi-gallery-control-item")[c]);
                        if (r.getElementsByClassName("ladi-gallery")[0].classList.contains("ladi-gallery-top") || r.getElementsByClassName("ladi-gallery")[0].classList.contains("ladi-gallery-bottom")) {
                            var y = parseFloatLadiPage(getComputedStyle(r.getElementsByClassName("ladi-gallery-control")[0]).width) || 0,
                                _ = parseFloatLadiPage(getComputedStyle(r.getElementsByClassName("ladi-gallery-control-item")[c]).width) || 0,
                                f = g.x - m.x - (y - _) / 2;
                            f = -(f -= parseFloatLadiPage(r.getElementsByClassName("ladi-gallery-control-box")[0].style.getPropertyValue("left")) || 0) > 0 ? 0 : -f;
                            var h = parseFloatLadiPage(getComputedStyle(r.getElementsByClassName("ladi-gallery-control-box")[0]).width) || 0;
                            f < (h = (h = -(h -= parseFloatLadiPage(getComputedStyle(r.getElementsByClassName("ladi-gallery-control")[0]).width) || 0)) > 0 ? 0 : h) && (f = h), r.getElementsByClassName("ladi-gallery-control-box")[0].style.setProperty("left", f + "px")
                        } else {
                            var v = parseFloatLadiPage(getComputedStyle(r.getElementsByClassName("ladi-gallery-control")[0]).height) || 0,
                                E = parseFloatLadiPage(getComputedStyle(r.getElementsByClassName("ladi-gallery-control-item")[c]).height) || 0,
                                L = g.y - m.y - (v - E) / 2;
                            L = -(L -= parseFloatLadiPage(r.getElementsByClassName("ladi-gallery-control-box")[0].style.getPropertyValue("top")) || 0) > 0 ? 0 : -L;
                            var P = parseFloatLadiPage(getComputedStyle(r.getElementsByClassName("ladi-gallery-control-box")[0]).height) || 0;
                            L < (P = (P = -(P -= parseFloatLadiPage(getComputedStyle(r.getElementsByClassName("ladi-gallery-control")[0]).height) || 0)) > 0 ? 0 : P) && (L = P), r.getElementsByClassName("ladi-gallery-control-box")[0].style.setProperty("top", L + "px")
                        }
                        r.setAttribute("data-is-next", s), r.setAttribute("data-current", c)
                    }
                }
            }
        }, N = function (t, i, a) {
            var n = i.getAttribute("data-video-type"), r = i.getAttribute("data-video-url"),
                o = t + "_" + i.getAttribute("data-index") + "_player", l = document.getElementById(o);
            a || (e.pauseAllVideo(), e.runtime.tmp.gallery_playing_video = !0), e.isEmpty(l) ? (n == e.const.VIDEO_TYPE.youtube && (l = document.createElement("iframe"), i.parentElement.insertBefore(l, i.nextSibling), l.outerHTML = '<iframe id="' + o + '" class="iframe-video-preload" data-video-type="' + n + '" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>', e.runEventPlayVideo(o, n, r, !1, !1, !0, a)), n == e.const.VIDEO_TYPE.direct && (l = document.createElement("video"), i.parentElement.insertBefore(l, i.nextSibling), l.outerHTML = '<video id="' + o + '" class="iframe-video-preload" data-video-type="' + n + '" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0; object-fit: cover;"></video>', e.runEventPlayVideo(o, n, r, !1, !0, !0, a))) : e.runEventReplayVideo(o, n, !0)
        }, I = function (t, i, a) {
            t.stopPropagation();
            var n = e.runtime.eventData[i], r = n[e.runtime.device + ".option.gallery_control.autoplay"],
                o = n[e.runtime.device + ".option.gallery_control.autoplay_time"], l = 0;
            r && !e.isEmpty(o) && (l = o);
            var s = parseFloatLadiPage(t.target.getAttribute("data-index")) || 0, c = null, d = null;
            (parseFloatLadiPage(a.getAttribute("data-current")) || 0) > s ? (c = "prev", d = "right") : (c = "next", d = "left");
            var u = a.getAttribute("data-is-next") || "true";
            (u = "true" == u.toLowerCase()) ? s-- : s++, a.setAttribute("data-current", s), a.setAttribute("data-next-time", Date.now() + 1e3 * l), T(i, !1, c, d)
        }, x = function (t, i) {
            if ((e.isEmpty(e.runtime.timenext_carousel[t]) || !(e.runtime.timenext_carousel[t] > Date.now())) && e.isEmpty(e.runtime.current_element_mouse_down_carousel)) {
                var a = document.getElementById(t);
                if (!e.isEmpty(a)) {
                    var n = a.getAttribute("data-is-next") || "true";
                    n = "true" == n.toLowerCase();
                    var r = parseFloatLadiPage(a.getAttribute("data-current")) || 0,
                        o = parseFloatLadiPage(e.runtime.eventData[t][e.runtime.device + ".option.carousel_crop.width"]) || 0,
                        l = parseFloatLadiPage(e.runtime.eventData[t][e.runtime.device + ".option.carousel_crop.width_item"]) || 0;
                    l > a.clientWidth && (l = a.clientWidth);
                    var s = Math.ceil(o / l);
                    i ? n ? r >= s - 1 ? (r = s - 2, n = !1) : r++ : r <= 0 ? (r = 1, n = !0) : r-- : n ? r++ : r--, r < 0 && (r = 0), r >= s - 1 && (r = s - 1);
                    var c = 1e3 * (parseFloatLadiPage(getComputedStyle(a.getElementsByClassName("ladi-carousel-content")[0]).transitionDuration) || 0);
                    e.runtime.timenext_carousel[t] = Date.now() + c;
                    var d = e.getElementBoundingClientRect(a), u = d.x + r * l - d.x - (a.clientWidth - l) / 2;
                    u = -u > 0 ? 0 : -u;
                    var p = -(o - a.clientWidth);
                    u < p && (u = p), a.getElementsByClassName("ladi-carousel-content")[0].style.setProperty("left", u + "px"), a.setAttribute("data-is-next", n), a.setAttribute("data-current", r)
                }
            }
        }, O = function (t) {
            if (e.runtime.isClient && !e.runtime.isDesktop && !e.isEmpty(e.runtime.bodyFontSize)) {
                var i = (parseFloatLadiPage(getComputedStyle(document.body).fontSize) || 0) / e.runtime.bodyFontSize;
                if (1 != i) for (var a = document.querySelectorAll(".ladi-paragraph, .ladi-list-paragraph, .ladi-headline, .ladi-countdown, .ladi-form"), n = 0; n < a.length; n++) {
                    var r = (parseFloatLadiPage(getComputedStyle(a[n]).fontSize) || 0) / (i * i);
                    a[n].style.setProperty("font-size", r + "px")
                } else t > Date.now() && e.runTimeout(function () {
                    O(t)
                }, 100)
            }
        }, k = function (i, a) {
            if ("form" == a) {
                var n = e.runtime.eventData[i];
                if (!e.isEmpty(n) && n["option.is_add_to_cart"]) {
                    var r = document.getElementById(i);
                    if (!e.isEmpty(r)) {
                        var o = r.querySelector('[data-variant="true"]');
                        if (!e.isEmpty(o)) {
                            var l = e.runtime.eventData[o.id];
                            if (!e.isEmpty(l)) {
                                var s = n["option.setting_product_type"], c = n["option.setting_product"];
                                if (!e.isEmpty(s) && !e.isEmpty(c)) {
                                    var d = e.generateVariantProduct(s, c, !0, n["option.ladisale_store_id"], l["option.input_setting_product_variant_type"], l["option.input_setting_product_variant_title"], l["option.input_setting_product_variant_price"], l["option.input_tabindex"], t, !0, function (t) {
                                        k(i, a)
                                    });
                                    if (!e.isEmpty(d)) {
                                        var u = "style_add_to_cart_" + i, p = document.getElementById(u);
                                        e.isEmpty(p) || p.parentElement.removeChild(p), e.showParentVisibility(o, function () {
                                            for (var t = o.clientHeight, i = o.querySelectorAll("select.ladi-form-control"), a = {}, n = 0; n < i.length; n++) a[i[n].getAttribute("data-store-id") + "_" + i[n].getAttribute("data-product-id") + "_" + i[n].getAttribute("data-product-variant-id")] = i[n].value;
                                            o.innerHTML = d;
                                            for (var s = o.querySelectorAll("select.ladi-form-control"), c = 0; c < s.length; c++) {
                                                s[c].removeEventListener("change", e.runtime.tmp.generateLadiSaleProduct), s[c].addEventListener("change", e.runtime.tmp.generateLadiSaleProduct);
                                                var p = a[s[c].getAttribute("data-store-id") + "_" + s[c].getAttribute("data-product-id") + "_" + s[c].getAttribute("data-product-variant-id")];
                                                s[c].value = p
                                            }
                                            if (l["option.input_setting_product_variant_type"] != e.const.SETTING_PRODUCT_VARIANT_TYPE.combined) {
                                                var m = "#" + o.id + " {height: " + o.clientHeight + "px;}";
                                                e.createStyleElement(u, m), t != o.clientHeight && e.updateHeightElement(r, o, 10, 10, t, o.clientHeight, u, m, !0)
                                            }
                                        })
                                    }
                                }
                            }
                        }
                    }
                }
            }
        }, D = function (i, a) {
            var n = e.runtime.eventData[i];
            if (!(e.isEmpty(n) || e.isEmpty(n["option.setting_product_type"]) || e.isEmpty(n["option.setting_product"]) || e.isEmpty(n["option.setting_product_key"]))) {
                var r = JSON.stringify(n),
                    o = e.generateProductKey(r, !0, n["option.setting_product_type"], n["option.setting_product"], n["option.ladisale_store_id"], n["option.setting_product_key"], !1, function (t) {
                        D(i, a)
                    });
                if (r !== o) {
                    var l = null, s = null, c = null;
                    if ("headline" != a && "paragraph" != a || window.ladi(i).value(o), "image" == a) {
                        if (l = document.getElementById(i), e.isEmpty(l)) return;
                        c = e.getOptimizeImage(o, l.clientWidth, l.clientHeight, !0, !1, !1, t), s = "style_add_to_cart_image_" + i;
                        var d = "";
                        d = e.isEmpty(c) ? "#" + i + "  > .ladi-image > .ladi-image-background {background-image: none;}" : "#" + i + '  > .ladi-image > .ladi-image-background {background-image: url("' + c + '");}', e.createStyleElement(s, d)
                    }
                    if ("gallery" == a) {
                        if (!e.isArray(o)) return;
                        if (l = document.getElementById(i), e.isEmpty(l)) return;
                        for (var u = l.getElementsByClassName("ladi-gallery-view-item"); u.length < o.length;) {
                            var p = e.createTmpElement("div", '<div class="ladi-gallery-view-item" data-index="' + u.length + '"></div>', null, !0);
                            l.getElementsByClassName("ladi-gallery-view")[0].appendChild(p)
                        }
                        for (; u.length > o.length;) u[u.length - 1].parentElement.removeChild(u[u.length - 1]);
                        for (var m = l.getElementsByClassName("ladi-gallery-control-item"), g = function (t) {
                            I(t, i, l)
                        }; m.length < o.length;) {
                            var y = e.createTmpElement("div", '<div class="ladi-gallery-control-item" data-index="' + m.length + '"></div>', null, !0);
                            y.addEventListener("click", g), l.getElementsByClassName("ladi-gallery-control-box")[0].appendChild(y)
                        }
                        for (; m.length > o.length;) m[m.length - 1].parentElement.removeChild(m[m.length - 1]);
                        s = "style_add_to_cart_gallery_" + i;
                        var _ = "";
                        o.length <= 1 && (_ += "#" + i + " .ladi-gallery .ladi-gallery-view .ladi-gallery-view-arrow {display: none;}", _ += "#" + i + " > .ladi-gallery > .ladi-gallery-view {height: 100%;}", _ += "#" + i + " > .ladi-gallery > .ladi-gallery-control {display: none;}");
                        var f = l.getElementsByClassName("ladi-gallery-view")[0],
                            h = l.getElementsByClassName("ladi-gallery-control-item")[0];
                        o.forEach(function (a, n) {
                            c = e.getOptimizeImage(a.src, f.clientWidth, f.clientHeight, !0, !1, !1, t), _ += "#" + i + ' .ladi-gallery .ladi-gallery-view-item[data-index="' + n + '"] {background-image: url("' + c + '");}', c = e.getOptimizeImage(a.src, h.clientWidth, h.clientHeight, !0, !1, !1, t), _ += "#" + i + ' .ladi-gallery .ladi-gallery-control-item[data-index="' + n + '"] {background-image: url("' + c + '");}'
                        }), l.setAttribute("data-max-item", o.length), e.isEmpty(_) || e.createStyleElement(s, _)
                    }
                }
            }
        };
    this.runtime.tmp.generateLadiSaleProduct = function (t) {
        var i = function () {
            d.forEach(function (t) {
                var i = e.runtime.eventData[t];
                D(t, i.type)
            })
        }, a = function (n) {
            if (n && e.isEmpty(t)) i(); else {
                var r = t.target, o = e.findAncestor(r, "ladi-element");
                if (!e.isEmpty(o)) {
                    var l = e.findAncestor(o, "ladi-element");
                    if (!e.isEmpty(l)) {
                        var s = e.runtime.eventData[l.id];
                        if (!e.isEmpty(s)) {
                            var c = s["option.ladisale_store_id"], d = s["option.setting_product_type"],
                                u = s["option.setting_product"];
                            if (!e.isEmpty(u)) {
                                var p = e.generateVariantProduct(d, u, !1, c, null, null, null, null, !0, !0, function (t) {
                                    a(!1)
                                });
                                if (e.isObject(p) && e.isObject(p.store_info) && e.isObject(p.product)) {
                                    var m = e.getProductVariantIndex(l.id, d, u, c),
                                        g = document.querySelectorAll('[data-variant="true"]');
                                    if (-1 != m) for (var y = 0; y < g.length; y++) if (g[y].id != o.id) {
                                        var _ = e.runtime.eventData[g[y].id];
                                        if (!e.isEmpty(_)) {
                                            var f = null;
                                            if (_["option.input_setting_product_variant_type"] == e.const.SETTING_PRODUCT_VARIANT_TYPE.combobox) {
                                                if (!e.isArray(p.product.variants)) continue;
                                                for (var h = p.product.variants[m], v = h.option_ids.split("/"), E = 0; E < v.length; E++) f = document.querySelector("#" + g[y].id + ' .ladi-form-item [data-product-variant-id="' + v[E] + '"]'), e.isEmpty(f) || f.getAttribute("data-store-id") != p.store_info.id || f.getAttribute("data-product-id") != h.product_id || (f.value = h["option" + (E + 1)])
                                            }
                                            if (_["option.input_setting_product_variant_type"] == e.const.SETTING_PRODUCT_VARIANT_TYPE.combined) {
                                                if (f = g[y].querySelector("select.ladi-form-control"), e.isEmpty(f) || f.getAttribute("data-store-id") != p.store_info.id || f.getAttribute("data-product-id") != p.product.product_id) continue;
                                                f.value = m + ""
                                            }
                                        }
                                    }
                                    for (var L = 0; L < g.length; L++) {
                                        var P = e.findAncestor(g[L], "ladi-form");
                                        if (!e.isEmpty(P)) {
                                            var A = P.querySelector('input[name="quantity"]');
                                            e.isEmpty(A) || A.dispatchEvent(new Event("input"))
                                        }
                                    }
                                    i()
                                }
                            }
                        }
                    }
                }
            }
        };
        a(!0)
    }, this.runtime.tmp.generateCart = function () {
        d.forEach(function (i) {
            !function (i, a) {
                if ("cart" == a) {
                    var n = e.runtime.eventData[i];
                    if (!e.isEmpty(n)) {
                        var r = document.getElementById(i);
                        if (!e.isEmpty(r)) {
                            var o = "style_cart_" + i, l = document.getElementById(o);
                            e.isEmpty(l) || l.parentElement.removeChild(l), e.showParentVisibility(r, function () {
                                var a = parseFloatLadiPage(getComputedStyle(r).height) || 0;
                                r.getElementsByClassName("ladi-cart")[0].innerHTML = e.generateCart(n["option.cart_layout"], n["option.message_no_product"], t);
                                var l = r.scrollHeight, s = "#" + i + " {height: " + l + "px;}";
                                if (e.createStyleElement(o, s), a != l) {
                                    var c = e.findAncestor(r, "ladi-element");
                                    e.isEmpty(c) && (c = e.findAncestor(r, "ladi-section")), e.updateHeightElement(c, r, 10, 10, a, l, o, s, !1)
                                }
                            })
                        }
                    }
                }
            }(i, e.runtime.eventData[i].type)
        })
    }, this.runtime.tmp.generateAddToCart = function () {
        d.forEach(function (t) {
            var i = e.runtime.eventData[t];
            k(t, i.type)
        })
    }, this.runtime.tmp.generateLadiSaleProduct(), this.runtime.tmp.runOptionAction = C, this.runtime.tmp.runTrackingAnalytics = b, this.createCartData(), d.forEach(function (i) {
        var a = e.runtime.eventData[i], n = LadiPageApp[a.type + e.const.APP_RUNTIME_PREFIX];
        e.isEmpty(n) ? (function (t, i, a, n) {
            if ("section" == i && !e.isEmpty(a) && !e.isEmpty(n)) {
                var r = document.getElementById(t);
                if (!e.isEmpty(r)) {
                    var o = r.getElementsByClassName("ladi-section-background")[0];
                    e.isEmpty(o) || (e.runtime.list_scroll_func[t] = function () {
                        var i = "", r = t + "_background_video";
                        a == e.const.VIDEO_TYPE.youtube && (i = '<iframe id="' + r + '" class="ladi-section-background-video" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture"></iframe>', o.innerHTML += i, e.runEventPlayVideo(r, a, n, !0, !0, !1)), a == e.const.VIDEO_TYPE.direct && (i = '<video id="' + r + '" class="ladi-section-background-video" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; object-fit: cover;"></video>', o.innerHTML += i, e.runEventPlayVideo(r, a, n, !0, !0, !1))
                    })
                }
            }
        }(i, a.type, a["option.background_video.video_type"], a["option.background_video.video_value"]), C(null, i, a.type, a["option.data_action"]), function (t, i, a, n, r, o, l) {
            if ("video" == i && !e.isEmpty(a)) {
                var s = document.getElementById(t);
                if (!e.isEmpty(s)) {
                    var d = c && o || !c && l;
                    if (d) e.runtime.list_scroll_func[t] = function () {
                        e.playVideo(t, n, a, r, d)
                    }; else {
                        var u = document.querySelectorAll("#" + t + " > .preload").length > 0;
                        u && e.playVideo(t, n, a, r, !1, u)
                    }
                    s.addEventListener("click", function (i) {
                        i.stopPropagation(), e.playVideo(t, n, a, r)
                    })
                }
            }
        }(i, a.type, a["option.video_value"], a["option.video_type"], a["option.video_control"], a[e.const.DESKTOP + ".option.video_autoplay"], a[e.const.MOBILE + ".option.video_autoplay"]), function (t, i, a, n) {
            "popup" == i && a && ((e.isEmpty(n) || n < 0) && (n = 0), e.runTimeout(function () {
                window.ladi(t).show()
            }, 1e3 * n))
        }(i, a.type, a["option.show_popup_welcome_page"], a["option.delay_popup_welcome_page"]), function (t, i, a, n, r, o, l) {
            if ("countdown" == i && !e.isEmpty(a)) {
                var s = document.getElementById(t);
                e.isEmpty(s) || (s.setAttribute("data-type", a), a != e.const.COUNTDOWN_TYPE.countdown || e.isEmpty(n) || s.setAttribute("data-minute", n), a != e.const.COUNTDOWN_TYPE.endtime || e.isEmpty(l) || s.setAttribute("data-endtime", l), a != e.const.COUNTDOWN_TYPE.daily || e.isEmpty(r) || e.isEmpty(o) || (s.setAttribute("data-daily-start", r), s.setAttribute("data-daily-end", o)))
            }
        }(i, a.type, a["option.countdown_type"], a["option.countdown_minute"], a["option.countdown_daily_start"], a["option.countdown_daily_end"], a["option.countdown_endtime"]), function (t, i, a) {
            if ("countdown_item" == i && !e.isEmpty(a)) {
                var n = document.getElementById(t);
                e.isEmpty(n) || n.setAttribute("data-item-type", a)
            }
        }(i, a.type, a["option.countdown_item_type"]), function (t, i, a, n) {
            if ("section" == i) {
                var r = document.getElementById(t);
                if (!e.isEmpty(r)) {
                    var o = r.getElementsByClassName("ladi-section-arrow-down")[0];
                    if (e.isEmpty(o)) {
                        if (c) {
                            if (e.isEmpty(a)) return void r.removeAttribute("data-opacity");
                            var l = (parseFloatLadiPage(a) || 0) + 50;
                            if (l > r.clientHeight) return void r.removeAttribute("data-opacity");
                            r.style.setProperty("height", l + "px"), r.classList.add("overflow-hidden")
                        } else {
                            if (e.isEmpty(n)) return void r.removeAttribute("data-opacity");
                            var s = (parseFloatLadiPage(n) || 0) + 50;
                            if (s > r.clientHeight) return void r.removeAttribute("data-opacity");
                            r.style.setProperty("height", s + "px"), r.classList.add("overflow-hidden")
                        }
                        (o = document.createElement("div")).className = "ladi-section-arrow-down", r.appendChild(o), r.removeAttribute("data-opacity"), o.addEventListener("click", function (t) {
                            t.stopPropagation(), r.classList.add("ladi-section-readmore"), r.style.removeProperty("height"), r.classList.remove("overflow-hidden"), o.parentElement.removeChild(o), e.runTimeout(function () {
                                r.classList.remove("ladi-section-readmore")
                            }, 1e3 * parseFloatLadiPage(getComputedStyle(r).transitionDuration))
                        })
                    }
                }
            }
        }(i, a.type, a[e.const.DESKTOP + ".option.readmore_range"], a[e.const.MOBILE + ".option.readmore_range"]), function (t, i, a) {
            if ("form_item" == i) {
                var n = null;
                if (a == e.const.INPUT_TYPE.select || a == e.const.INPUT_TYPE.select_multiple) for (var r = document.getElementById(t).getElementsByClassName("ladi-form-control"), o = 0; o < r.length; o++) r[o].addEventListener("change", function (t) {
                    t.target.setAttribute("data-selected", t.target.value)
                });
                if (a == e.const.INPUT_TYPE.checkbox) {
                    n = document.getElementById(t).getElementsByClassName("ladi-form-checkbox-item");
                    for (var l = function (t) {
                        t.stopPropagation();
                        var i = e.findAncestor(t.target, "ladi-form-checkbox-item");
                        e.isEmpty(i) || i.getElementsByTagName("span")[0].setAttribute("data-checked", t.target.checked)
                    }, s = function (t) {
                        t.stopPropagation();
                        var i = e.findAncestor(t.target, "ladi-form-checkbox-item");
                        e.isEmpty(i) || i.getElementsByTagName("input")[0].click()
                    }, c = 0; c < n.length; c++) {
                        var d = n[c].getElementsByTagName("input")[0];
                        n[c].getElementsByTagName("span")[0].addEventListener("click", s), d.addEventListener("change", l)
                    }
                }
                if (a == e.const.INPUT_TYPE.radio) {
                    n = document.getElementById(t).getElementsByClassName("ladi-form-checkbox-item");
                    for (var u = function (t) {
                        var i = e.findAncestor(t.target, "ladi-form-checkbox-item"),
                            a = e.findAncestor(i, "ladi-form-checkbox");
                        if (!e.isEmpty(a)) {
                            for (var n = a.querySelectorAll(".ladi-form-checkbox-item span"), r = 0; r < n.length; r++) n[r].setAttribute("data-checked", !1);
                            e.isEmpty(i) || i.getElementsByTagName("span")[0].setAttribute("data-checked", t.target.checked)
                        }
                    }, p = function (t) {
                        t.stopPropagation();
                        var i = e.findAncestor(t.target, "ladi-form-checkbox-item");
                        e.isEmpty(i) || i.getElementsByTagName("input")[0].click()
                    }, m = 0; m < n.length; m++) {
                        var g = n[m].getElementsByTagName("input")[0];
                        n[m].getElementsByTagName("span")[0].addEventListener("click", p), g.addEventListener("change", u)
                    }
                }
            }
        }(i, a.type, a["option.input_type"]), function (t, i) {
            if ("gallery" == i) {
                var a = document.getElementById(t);
                if (!e.isEmpty(a)) {
                    var n = a.getElementsByClassName("ladi-gallery-control-item").length;
                    a.setAttribute("data-max-item", n);
                    var r = function (e) {
                        e.stopPropagation(), N(t, e.target, !1)
                    }, o = document.querySelectorAll("#" + t + " > .preload").length > 0;
                    if (n > 0) {
                        for (var l = 0; l < n; l++) {
                            var s = a.getElementsByClassName("ladi-gallery-view-item")[l];
                            e.isEmpty(s) || (o && N(t, s, o), s.classList.contains("play-video") && s.addEventListener("click", r))
                        }
                        if (n <= 1) for (var c = a.getElementsByClassName("ladi-gallery-view-arrow"), d = 0; d < c.length; d++) c[d].classList.add("ladi-hidden");
                        a.setAttribute("data-current", 0), a.setAttribute("data-is-next", !0)
                    }
                }
            }
        }(i, a.type), e.startAutoScroll(i, a.type, a[e.const.DESKTOP + ".option.auto_scroll"], a[e.const.MOBILE + ".option.auto_scroll"]), k(i, a.type), function (t, i) {
            if ("form" == i) {
                var a = e.runtime.eventData[t];
                if (!e.isEmpty(a) && a["option.is_add_to_cart"]) {
                    var n = document.getElementById(t);
                    if (!e.isEmpty(n)) {
                        var r = n.querySelector('input[name="quantity"]');
                        if (!e.isEmpty(r)) {
                            var o = function (i) {
                                if (!e.isEmpty(i.target.value)) {
                                    var n = e.generateVariantProduct(a["option.setting_product_type"], a["option.setting_product"], !1, a["option.ladisale_store_id"], null, null, null, null, !0, !0, function () {
                                        o(i)
                                    });
                                    if (!(e.isEmpty(n) || e.isEmpty(n.store_info) || e.isEmpty(n.product))) {
                                        var r = e.getProductVariantIndex(t, a["option.setting_product_type"], a["option.setting_product"], a["option.ladisale_store_id"]);
                                        if (-1 != r) {
                                            var l = n.product.variants[r].quantity, s = parseInt(i.target.value) || 0;
                                            s <= 0 && (s = 0, (0 == n.product.variants[r].inventory_checked || l > 0) && (s = 1), i.target.value = s), 1 == n.product.variants[r].inventory_checked && (s > l || 0 == l) && (i.target.value = l)
                                        }
                                    }
                                }
                            };
                            r.addEventListener("input", o)
                        }
                    }
                }
            }
        }(i, a.type), function (t, i) {
            if ("collection" == i) {
                var a = document.getElementById(t);
                if (!e.isEmpty(a)) {
                    var n = e.runtime.eventData[t];
                    if (!e.isEmpty(n)) {
                        var r = n["option.setting_product_type"], o = n["option.collection_setting.type"],
                            l = a.getElementsByClassName("ladi-collection")[0];
                        if (o == e.const.COLLECTION_TYPE.carousel && l.classList.add("carousel"), e.loadCollectionData(r, t, o, 1, !0, !1), o == e.const.COLLECTION_TYPE.carousel) {
                            var s = document.createElement("div");
                            s.className = "ladi-collection-arrow ladi-collection-arrow-left";
                            var c = document.createElement("div");
                            c.className = "ladi-collection-arrow ladi-collection-arrow-right", l.appendChild(s), l.appendChild(c), s.addEventListener("click", function (i) {
                                i.stopPropagation();
                                var n = parseFloatLadiPage(a.getAttribute("data-page")) || 1;
                                n = (n -= 1) < 1 ? 1 : n, e.loadCollectionData(r, t, o, n, !1, !1)
                            }), c.addEventListener("click", function (i) {
                                i.stopPropagation();
                                var n = parseFloatLadiPage(a.getAttribute("data-page")) || 1;
                                if (n += 1, a.hasAttribute("data-max-page")) {
                                    var l = parseFloatLadiPage(a.getAttribute("data-max-page")) || 1;
                                    n = n > l ? l : n
                                }
                                e.loadCollectionData(r, t, o, n, !1, !1)
                            })
                        }
                        if (o == e.const.COLLECTION_TYPE.readmore) {
                            var d = document.createElement("div");
                            d.className = "ladi-collection-button-next", l.appendChild(d), d.addEventListener("click", function (i) {
                                i.stopPropagation();
                                var n = parseFloatLadiPage(a.getAttribute("data-page")) || 1;
                                if (n += 1, a.hasAttribute("data-max-page")) {
                                    var l = parseFloatLadiPage(a.getAttribute("data-max-page")) || 1;
                                    n = n > l ? l : n
                                }
                                e.loadCollectionData(r, t, o, n, !1, !1)
                            })
                        }
                    }
                }
            }
        }(i, a.type)) : n(a, t).run(i, c)
    }), (s = function () {
        d.forEach(function (t) {
            if ("countdown" == e.runtime.eventData[t].type) {
                var i = document.getElementById(t);
                if (!e.isEmpty(i)) {
                    var a = i.getAttribute("data-type"), n = 0, r = 0, o = Date.now();
                    if (i.hasAttribute("data-date-start") || i.hasAttribute("data-date-end")) n = parseFloatLadiPage(i.getAttribute("data-date-start")) || 0, r = parseFloatLadiPage(i.getAttribute("data-date-end")) || 0; else {
                        if (a == e.const.COUNTDOWN_TYPE.countdown) {
                            var l = parseInt(i.getAttribute("data-minute")) || 0;
                            if (l <= 0) return;
                            for (r = e.runtime.timenow; r <= o;) r += 60 * l * 1e3
                        }
                        if (a == e.const.COUNTDOWN_TYPE.endtime && (r = parseInt(i.getAttribute("data-endtime")) || 0), a == e.const.COUNTDOWN_TYPE.daily) {
                            var s = i.getAttribute("data-daily-start"), c = i.getAttribute("data-daily-end");
                            if (!e.isEmpty(s) && !e.isEmpty(c)) {
                                var d = (new Date).toDateString();
                                n = new Date(d + " " + s).getTime(), r = new Date(d + " " + c).getTime()
                            }
                        }
                        i.setAttribute("data-date-start", n), i.setAttribute("data-date-end", r)
                    }
                    if (!(n > o)) {
                        var u = r - o;
                        u < 0 && (u = 0);
                        for (var p = e.getCountdownTime(u), m = i.querySelectorAll("[data-item-type]"), g = 0; g < m.length; g++) m[g].querySelectorAll(".ladi-countdown-text span")[0].textContent = p[m[g].getAttribute("data-item-type")]
                    }
                }
            }
        })
    })(), e.runtime.interval_countdown = e.runInterval(s, 1e3), d.forEach(function (t) {
        var i = e.runtime.eventData[t];
        if ("gallery" == i.type) {
            var a = document.getElementById(t);
            if (!e.isEmpty(a)) {
                a.hasAttribute("data-scrolled") || (a.setAttribute("data-scrolled", !1), e.runtime.list_scroll_func[t] = function () {
                    a.setAttribute("data-scrolled", !0)
                });
                var n = i[e.runtime.device + ".option.gallery_control.autoplay"],
                    r = i[e.runtime.device + ".option.gallery_control.autoplay_time"], o = 0;
                n && !e.isEmpty(r) && (o = r);
                var l = function (e) {
                    I(e, t, a)
                }, s = function (i) {
                    i.stopPropagation(), i = e.getEventCursorData(i), e.isEmpty(e.runtime.timeout_gallery[t]) && (e.runtime.current_element_mouse_down_gallery_view = t, e.runtime.current_element_mouse_down_gallery_view_position_x = i.pageX)
                }, c = function (i) {
                    i.stopPropagation(), i = e.getEventCursorData(i), (a.getElementsByClassName("ladi-gallery")[0].classList.contains("ladi-gallery-top") || a.getElementsByClassName("ladi-gallery")[0].classList.contains("ladi-gallery-bottom")) && (e.runtime.current_element_mouse_down_gallery_control = t, e.runtime.current_element_mouse_down_gallery_control_time = Date.now(), e.runtime.current_element_mouse_down_gallery_control_position_x = i.pageX, a.getElementsByClassName("ladi-gallery-control-box")[0].style.setProperty("transition-duration", "0ms"), a.getElementsByClassName("ladi-gallery-control-box")[0].setAttribute("data-left", getComputedStyle(a.getElementsByClassName("ladi-gallery-control-box")[0]).left))
                };
                a.getElementsByClassName("ladi-gallery-view-arrow-left")[0].addEventListener("click", function (e) {
                    e.stopPropagation(), a.setAttribute("data-is-next", !1), a.setAttribute("data-next-time", Date.now() + 1e3 * o), T(t, !1)
                }), a.getElementsByClassName("ladi-gallery-view-arrow-right")[0].addEventListener("click", function (e) {
                    e.stopPropagation(), a.setAttribute("data-is-next", !0), a.setAttribute("data-next-time", Date.now() + 1e3 * o), T(t, !1)
                }), a.getElementsByClassName("ladi-gallery-control-arrow-left")[0].addEventListener("click", function (t) {
                    t.stopPropagation();
                    var i = a.getElementsByClassName("ladi-gallery-control-item")[0];
                    if (!e.isEmpty(i)) {
                        var n = getComputedStyle(i);
                        if (a.getElementsByClassName("ladi-gallery")[0].classList.contains("ladi-gallery-top") || a.getElementsByClassName("ladi-gallery")[0].classList.contains("ladi-gallery-bottom")) {
                            var r = (parseFloatLadiPage(n.width) || 0) + (parseFloatLadiPage(n.marginRight) || 0);
                            (r += parseFloatLadiPage(a.getElementsByClassName("ladi-gallery-control-box")[0].style.getPropertyValue("left")) || 0) > 0 && (r = 0), a.getElementsByClassName("ladi-gallery-control-box")[0].style.setProperty("left", r + "px")
                        } else {
                            var l = (parseFloatLadiPage(n.height) || 0) + (parseFloatLadiPage(n.marginBottom) || 0);
                            (l += parseFloatLadiPage(a.getElementsByClassName("ladi-gallery-control-box")[0].style.getPropertyValue("top")) || 0) > 0 && (l = 0), a.getElementsByClassName("ladi-gallery-control-box")[0].style.setProperty("top", l + "px")
                        }
                        a.setAttribute("data-next-time", Date.now() + 1e3 * o)
                    }
                }), a.getElementsByClassName("ladi-gallery-control-arrow-right")[0].addEventListener("click", function (t) {
                    t.stopPropagation();
                    var i = a.getElementsByClassName("ladi-gallery-control-item")[0];
                    if (!e.isEmpty(i)) {
                        var n = getComputedStyle(i);
                        if (a.getElementsByClassName("ladi-gallery")[0].classList.contains("ladi-gallery-top") || a.getElementsByClassName("ladi-gallery")[0].classList.contains("ladi-gallery-bottom")) {
                            var r = (parseFloatLadiPage(n.width) || 0) + (parseFloatLadiPage(n.marginRight) || 0);
                            r = -r + (parseFloatLadiPage(a.getElementsByClassName("ladi-gallery-control-box")[0].style.getPropertyValue("left")) || 0);
                            var l = parseFloatLadiPage(getComputedStyle(a.getElementsByClassName("ladi-gallery-control-box")[0]).width) || 0;
                            r < (l = (l = -(l -= parseFloatLadiPage(getComputedStyle(a.getElementsByClassName("ladi-gallery-control")[0]).width) || 0)) > 0 ? 0 : l) && (r = l), a.getElementsByClassName("ladi-gallery-control-box")[0].style.setProperty("left", r + "px")
                        } else {
                            var s = (parseFloatLadiPage(n.height) || 0) + (parseFloatLadiPage(n.marginBottom) || 0);
                            s = -s + (parseFloatLadiPage(a.getElementsByClassName("ladi-gallery-control-box")[0].style.getPropertyValue("top")) || 0);
                            var c = parseFloatLadiPage(getComputedStyle(a.getElementsByClassName("ladi-gallery-control-box")[0]).height) || 0;
                            s < (c = (c = -(c -= parseFloatLadiPage(getComputedStyle(a.getElementsByClassName("ladi-gallery-control")[0]).height) || 0)) > 0 ? 0 : c) && (s = c), a.getElementsByClassName("ladi-gallery-control-box")[0].style.setProperty("top", s + "px")
                        }
                        a.setAttribute("data-next-time", Date.now() + 1e3 * o)
                    }
                }), a.getElementsByClassName("ladi-gallery-view")[0].addEventListener("mousedown", s), a.getElementsByClassName("ladi-gallery-view")[0].addEventListener("touchstart", s), a.getElementsByClassName("ladi-gallery-control")[0].addEventListener("mousedown", c), a.getElementsByClassName("ladi-gallery-control")[0].addEventListener("touchstart", c);
                for (var d = a.getElementsByClassName("ladi-gallery-control-item"), u = 0; u < d.length; u++) d[u].addEventListener("click", l)
            }
        }
    }), e.runtime.interval_gallery = e.runInterval(function () {
        d.forEach(function (t) {
            var i = e.runtime.eventData[t];
            if ("gallery" == i.type) {
                var a = document.getElementById(t);
                if (!e.isEmpty(a) && "true" == a.getAttribute("data-scrolled")) {
                    var n = i[e.runtime.device + ".option.gallery_control.autoplay"],
                        r = i[e.runtime.device + ".option.gallery_control.autoplay_time"], o = 0;
                    if (n && !e.isEmpty(r) && (o = r), o > 0) {
                        var l = a.getAttribute("data-next-time"), s = Date.now();
                        e.isEmpty(l) && (l = s + 1e3 * (o - 1), a.setAttribute("data-next-time", l)), s >= l && (T(t, !0), a.setAttribute("data-next-time", s + 1e3 * o))
                    }
                }
            }
        })
    }, 1e3), d.forEach(function (t) {
        var i = e.runtime.eventData[t];
        if ("carousel" == i.type) {
            var a = document.getElementById(t);
            if (!e.isEmpty(a)) {
                a.hasAttribute("data-scrolled") || (a.setAttribute("data-scrolled", !1), e.runtime.list_scroll_func[t] = function () {
                    a.setAttribute("data-scrolled", !0)
                });
                var n = i[e.runtime.device + ".option.carousel_setting.autoplay"],
                    r = i[e.runtime.device + ".option.carousel_setting.autoplay_time"], o = 0;
                n && !e.isEmpty(r) && (o = r);
                var l = function (i) {
                    i.stopPropagation(), i = e.getEventCursorData(i), !e.isEmpty(e.runtime.timenext_carousel[t]) && e.runtime.timenext_carousel[t] > Date.now() || (e.runtime.timenext_carousel[t] = Date.now() + 864e5, e.runtime.current_element_mouse_down_carousel = t, e.runtime.current_element_mouse_down_carousel_position_x = i.pageX, a.getElementsByClassName("ladi-carousel-content")[0].style.setProperty("transition-duration", "0ms"), a.getElementsByClassName("ladi-carousel-content")[0].setAttribute("data-left", getComputedStyle(a.getElementsByClassName("ladi-carousel-content")[0]).left))
                };
                a.getElementsByClassName("ladi-carousel-arrow-left")[0].addEventListener("click", function (e) {
                    e.stopPropagation(), a.getElementsByClassName("ladi-carousel-content")[0].style.removeProperty("transition-duration"), a.setAttribute("data-is-next", !1), a.setAttribute("data-next-time", Date.now() + 1e3 * o), x(t, !1)
                }), a.getElementsByClassName("ladi-carousel-arrow-right")[0].addEventListener("click", function (e) {
                    e.stopPropagation(), a.getElementsByClassName("ladi-carousel-content")[0].style.removeProperty("transition-duration"), a.setAttribute("data-is-next", !0), a.setAttribute("data-next-time", Date.now() + 1e3 * o), x(t, !1)
                }), a.getElementsByClassName("ladi-carousel")[0].addEventListener("mousedown", l), a.getElementsByClassName("ladi-carousel")[0].addEventListener("touchstart", l)
            }
        }
    }), e.runtime.interval_carousel = e.runInterval(function () {
        d.forEach(function (t) {
            var i = e.runtime.eventData[t];
            if ("carousel" == i.type) {
                var a = document.getElementById(t);
                if (!e.isEmpty(a) && "true" == a.getAttribute("data-scrolled")) {
                    var n = i[e.runtime.device + ".option.carousel_setting.autoplay"],
                        r = i[e.runtime.device + ".option.carousel_setting.autoplay_time"], o = 0;
                    if (n && !e.isEmpty(r) && (o = r), o > 0) {
                        var l = a.getAttribute("data-next-time"), s = Date.now();
                        e.isEmpty(l) && (l = s + 1e3 * (o - 1), a.setAttribute("data-next-time", l)), s >= l && (x(t, !0), a.setAttribute("data-next-time", s + 1e3 * o))
                    }
                }
            }
        })
    }, 1e3), function () {
        for (var t = document.querySelectorAll(".ladi-checkout .ladi-button"), i = 0; i < t.length; i++) {
            var a = e.findAncestor(t[i], "ladi-element");
            !e.isEmpty(a) && e.isEmpty(e.findAncestor(t[i], "ladi-form")) && (a.style.setProperty("cursor", "pointer"), a.addEventListener("click", e.reloadPriceDiscount))
        }
        for (var n = document.querySelectorAll(".ladi-checkout .ladi-form-item input.ladi-form-control"), r = ["email", "coupon"], o = function (t) {
            e.reloadPriceDiscount()
        }, l = 0; l < n.length; l++) -1 != r.indexOf(n[l].getAttribute("name")) && (n[l].addEventListener("change", o), n[l].addEventListener("input", o))
    }(), function () {
        d.forEach(function (t) {
            var i = e.runtime.eventData[t];
            if (!e.isEmpty(i["option.data_action"])) {
                var a = document.getElementById(t);
                if (!e.isEmpty(a) && "true" != a.getAttribute("data-action") && i["option.data_action"].type == e.const.DATA_ACTION_TYPE.link) {
                    var n = e.getLinkUTMRedirect(a.href, window.location.search);
                    a.setAttribute("data-replace-href", n), a.href = e.convertDataReplaceStr(n, !0)
                }
            }
        });
        for (var t = document.querySelectorAll(".ladi-headline a[href], .ladi-paragraph a[href], .ladi-list-paragraph a[href]"), i = 0; i < t.length; i++) {
            var a = e.getLinkUTMRedirect(t[i].href, window.location.search);
            t[i].setAttribute("data-replace-href", a), t[i].href = e.convertDataReplaceStr(a, !0)
        }
    }(), t && e.const.TIME_ONPAGE_TRACKING.forEach(function (t) {
        e.runTimeout(function () {
            e.isFunction(window.gtag) && window.gtag("event", "TimeOnPage_" + t + "_seconds", {
                event_category: "LadiPageTimeOnPage",
                event_label: window.location.host + window.location.pathname,
                non_interaction: !0
            }), e.isFunction(window.fbq) && window.fbq("trackCustom", "TimeOnPage_" + t + "_seconds")
        }, 1e3 * t)
    }), function () {
        for (var t = 2500, i = 3800, a = 800, n = 50, r = 150, o = 500, l = 1300, s = 600, c = 1500, d = t, u = function (i, a, n, r) {
            e.isEmpty(i) || (i.classList.remove("in"), i.classList.add("out"));
            var o = e.isEmpty(i) ? null : i.nextSibling;
            if (e.isEmpty(o) ? n && e.runTimeout(function () {
                _(m(a))
            }, t) : e.runTimeout(function () {
                u(o, a, n, r)
            }, r), e.isEmpty(o) && document.querySelectorAll("html")[0].classList.contains("no-csstransitions")) {
                var l = m(a);
                g(a, l)
            }
        }, p = function (i, a, n, r) {
            var o = a.parentElement, l = o.parentElement;
            l.classList.contains("ladipage-animated-headline") || (l = l.parentElement), e.isEmpty(i) || (i.classList.add("in"), i.classList.remove("out"));
            var s = e.isEmpty(i) ? null : i.nextSibling;
            e.isEmpty(s) ? ((l.classList.contains("rotate-2") || l.classList.contains("rotate-3") || l.classList.contains("scale")) && o.style.setProperty("width", a.clientWidth + "px"), e.isEmpty(e.findAncestor(a, "type")) || e.runTimeout(function () {
                var t = e.findAncestor(a, "ladipage-animated-words-wrapper");
                e.isEmpty(t) || t.classList.add("waiting")
            }, 200), n || e.runTimeout(function () {
                _(a)
            }, t)) : e.runTimeout(function () {
                p(s, a, n, r)
            }, r)
        }, m = function (t) {
            var i = t.nextSibling;
            return e.isEmpty(i) || i.classList.contains("after") ? t.parentElement.firstChild : i
        }, g = function (t, e) {
            t.classList.remove("is-visible"), t.classList.add("is-hidden"), e.classList.remove("is-hidden"), e.classList.add("is-visible")
        }, y = function (t, i) {
            e.isEmpty(e.findAncestor(t, "type")) ? e.isEmpty(e.findAncestor(t, "clip")) || (e.findAncestor(t, "ladipage-animated-words-wrapper").style.setProperty("width", t.clientWidth + 5 + "px"), e.runTimeout(function () {
                _(t)
            }, s + c)) : (p(t.querySelectorAll("i")[0], t, !1, i), t.classList.add("is-visible"), t.classList.remove("is-hidden"))
        }, _ = function (c) {
            if (!e.isEmpty(c)) {
                var d = m(c);
                if (e.isEmpty(e.findAncestor(c, "type"))) if (e.isEmpty(e.findAncestor(c, "letters"))) e.isEmpty(e.findAncestor(c, "clip")) ? e.isEmpty(e.findAncestor(c, "loading-bar")) ? (g(c, d), e.runTimeout(function () {
                    _(d)
                }, t)) : (e.findAncestor(c, "ladipage-animated-words-wrapper").classList.remove("is-loading"), g(c, d), e.runTimeout(function () {
                    _(d)
                }, i), e.runTimeout(function () {
                    e.findAncestor(c, "ladipage-animated-words-wrapper").classList.add("is-loading")
                }, a)) : (e.findAncestor(c, "ladipage-animated-words-wrapper").style.setProperty("width", "2px"), e.runTimeout(function () {
                    g(c, d), y(d)
                }, s)); else {
                    var f = c.querySelectorAll("i").length >= d.querySelectorAll("i").length;
                    u(c.querySelectorAll("i")[0], c, f, n), p(d.querySelectorAll("i")[0], d, f, n)
                } else {
                    var h = e.findAncestor(c, "ladipage-animated-words-wrapper");
                    h.classList.add("selected"), h.classList.remove("waiting"), e.runTimeout(function () {
                        h.classList.remove("selected"), c.classList.remove("is-visible"), c.classList.add("is-hidden");
                        for (var t = c.querySelectorAll("i"), e = 0; e < t.length; e++) t[e].classList.remove("in"), t[e].classList.add("out")
                    }, o), e.runTimeout(function () {
                        y(d, r)
                    }, l)
                }
            }
        }, f = function (t) {
            var n = !1;
            if (e.const.ANIMATED_LIST.forEach(function (e) {
                t.classList.contains(e) && (n = !0)
            }), n) {
                var r = t.getElementsByClassName("ladipage-animated-words-wrapper")[0];
                if (!e.isEmpty(r)) {
                    var o = e.isEmpty(r.getAttribute("data-word")) ? [] : JSON.parse(r.getAttribute("data-word"));
                    if (0 != o.length) {
                        var l = r.textContent.trim();
                        if (r.textContent = "", r.innerHTML = r.innerHTML + '<b class="is-visible">' + l + "</b>", o.forEach(function (t) {
                            e.isEmpty(t) ? r.innerHTML = r.innerHTML + "<b>" + l + "</b>" : r.innerHTML = r.innerHTML + "<b>" + t.trim() + "</b>"
                        }), !e.isEmpty(e.findAncestor(r, "type")) || !e.isEmpty(e.findAncestor(r, "loading-bar")) || !e.isEmpty(e.findAncestor(r, "clip"))) {
                            r.innerHTML = r.innerHTML + '<div class="after"></div>';
                            for (var s = getComputedStyle(r).color, c = r.getElementsByClassName("after"), u = 0; u < c.length; u++) c[u].style.setProperty("background-color", s)
                        }
                        if (t.classList.contains("type") && r.classList.add("waiting"), (t.classList.contains("type") || t.classList.contains("rotate-2") || t.classList.contains("rotate-3") || t.classList.contains("scale")) && t.classList.add("letters"), function (t) {
                            for (var i = 0; i < t.length; i++) {
                                var a = t[i], n = a.textContent.trim().split(""),
                                    r = a.classList.contains("is-visible");
                                for (var o in n) {
                                    " " == n[o] && (n[o] = "&nbsp;");
                                    var l = e.findAncestor(a, "rotate-2");
                                    e.isEmpty(l) || (n[o] = "<em>" + n[o] + "</em>"), n[o] = r ? '<i class="in">' + n[o] + "</i>" : "<i>" + n[o] + "</i>"
                                }
                                var s = n.join("");
                                a.innerHTML = s, a.style.setProperty("opacity", 1)
                            }
                        }(document.querySelectorAll(".letters b")), t.classList.contains("loading-bar")) d = i, e.runTimeout(function () {
                            r.classList.add("is-loading")
                        }, a); else if (t.classList.contains("clip")) {
                            var p = r.clientWidth + 5;
                            r.style.setProperty("width", p + "px")
                        }
                        e.runTimeout(function () {
                            _(t.getElementsByClassName("is-visible")[0])
                        }, d)
                    }
                }
            }
        }, h = document.getElementsByClassName("ladipage-animated-headline"), v = 0; v < h.length; v++) f(h[v])
    }(), document.addEventListener("mouseleave", e.runEventMouseLeave), document.addEventListener("mousemove", e.runEventMouseMove), document.addEventListener("touchmove", e.runEventMouseMove), document.addEventListener("mouseup", e.runEventMouseUp), document.addEventListener("touchend", e.runEventMouseUp), window.addEventListener("scroll", e.runEventScroll), window.addEventListener("resize", e.runEventResize), window.addEventListener("orientationchange", e.runEventOrientationChange), document.getElementById(e.runtime.backdrop_popup_id).addEventListener("click", e.runEventBackdropClick), e.reloadLazyload(), function () {
        if (t) {
            var i = function () {
                if (e.runtime.ladipage_powered_by_classname = e.randomString(e.randomInt(6, 32)), e.runtime.isClient) {
                    var t = document.createElement(e.randomString(6));
                    document.body.insertBefore(t, document.body.childNodes[e.randomInt(0, document.body.childNodes.length)]), t.className = e.runtime.ladipage_powered_by_classname;
                    var i = "." + e.runtime.ladipage_powered_by_classname + ' {width: 90px; height: 40px; position: fixed; bottom: -40px; right: 10px; z-index: 10000000000; background: url("' + e.const.POWERED_BY_IMAGE + '") no-repeat center #fafafa; background-size: 70px; border-radius: 4px 4px 0 0; display: block; animation: ' + e.runtime.ladipage_powered_by_classname + " 5s;} @keyframes " + e.runtime.ladipage_powered_by_classname + " {0% {bottom: -40px;} 20% {bottom: 0;} 80% {bottom: 0;} 100% {bottom: -40px;}}",
                        a = document.createElement("style");
                    a.type = "text/css", document.head.insertBefore(a, document.head.childNodes[e.randomInt(0, document.head.childNodes.length)]), a.innerHTML = i, e.runTimeout(function () {
                        e.isEmpty(t) || t.parentElement.removeChild(t), e.isEmpty(a) || a.parentElement.removeChild(a)
                    }, 5e3)
                }
            }, a = !1, n = e.isArray(e.runtime.DOMAIN_FREE) ? e.runtime.DOMAIN_FREE : [], r = window.location.href;
            ["/", ".", "/"].forEach(function (t) {
                for (; r.endsWith(t);) r = r.substr(0, r.length - t.length)
            });
            var o = e.getElementAHref(r).host.toLowerCase();
            n.forEach(function (t) {
                a || (a = o.endsWith(t.toLowerCase()))
            }), a && e.runTimeout(i, 3e3), b("PageView", {}, function (t, n) {
                if (-1 != t || a || e.runTimeout(i, 3e3), 200 == t) {
                    var r = JSON.parse(n);
                    a || 1 == r.data || e.runTimeout(i, 3e3)
                }
            })
        }
    }(), e.setDataReplaceStart(), e.resetViewport(), t || e.runAfterLocation(), "complete" === document.readyState || "loading" !== document.readyState && !document.documentElement.doScroll ? e.documentLoaded() : document.addEventListener("DOMContentLoaded", e.documentLoaded)
}, LadiPageScriptV2.prototype.equals = function (t, e) {
    return typeof t == typeof e && JSON.stringify(t) == JSON.stringify(e)
}, LadiPageScriptV2.prototype.copy = function (t) {
    return this.isNull(t) ? t : JSON.parse(JSON.stringify(t))
}, LadiPageScriptV2.prototype.generateVariantContentString = function (t, e, i, a) {
    var n = [];
    i = this.isEmpty(i) ? " | " : i;
    try {
        this.isEmpty(t) || (e && (t = Base64.decode(t)), t = JSON.parse(t), this.isArray(t.dynamic_content.hide) && t.dynamic_content.hide.length > 0 && n.push(this.const.LANG.HIDE_ELEMENT + " " + t.dynamic_content.hide.join(", ")), this.isArray(t.dynamic_content.show) && t.dynamic_content.show.length > 0 && n.push(this.const.LANG.SHOW_ELEMENT + " " + t.dynamic_content.show.join(", ")), this.isArray(t.dynamic_content.top) && t.dynamic_content.top.length > 0 && n.push(this.const.LANG.TOP_ELEMENT + " " + t.dynamic_content.top.join(", ")), this.isArray(t.dynamic_content.scroll) && t.dynamic_content.scroll.length > 0 && n.push(this.const.LANG.SCROLL_ELEMENT + " " + t.dynamic_content.scroll.join(", ")))
    } catch (t) {
    }
    return a ? n : n.join(i)
}, LadiPageScriptV2.prototype.showParentVisibility = function (t, e) {
    var i = this.findAncestor(t, "ladi-popup");
    if (!this.isEmpty(i) && (i = this.findAncestor(i, "ladi-element"), !this.isEmpty(i))) return "none" == getComputedStyle(i).display && i.classList.add("hide-visibility"), this.isFunction(e) && e(), void i.classList.remove("hide-visibility");
    this.isFunction(e) && e()
}, LadiPageScriptV2.prototype.updateHeightElement = function (t, e, i, a, n, r, o, l, s, c) {
    for (var d = [], u = e.parentElement.children, p = 0; p < u.length; p++) u[p].id != e.id && u[p].classList.contains("ladi-element") && d.push(u[p]);
    for (var m = r - n, g = parseFloatLadiPage(getComputedStyle(e).top) || 0, y = g + r, _ = 0; _ < d.length; _++) {
        var f = parseFloatLadiPage(getComputedStyle(d[_]).top) || 0,
            h = parseFloatLadiPage(getComputedStyle(d[_]).height) || 0;
        s && f >= g + n && (f += m, l += "#" + d[_].id + " {top: " + f + "px;}"), f + h > y && (y = f + h, i = a)
    }
    var v = !1, E = 0;
    if (!this.isEmpty(t) && (E = parseFloatLadiPage(getComputedStyle(t).height) || 0) != y && (!c || y > E)) {
        if (t.classList.contains("ladi-section")) y += i; else {
            var L = t.getElementsByClassName("ladi-popup")[0];
            this.isEmpty(L) || (y += i, L.style.setProperty("height", y + "px", "important"))
        }
        l += "#" + t.id + " {height: " + y + "px;}", v = !0
    }
    if (this.createStyleElement(o, l), v) {
        var P = this.findAncestor(t, "ladi-element");
        if (this.isEmpty(P) && (P = this.findAncestor(t, "ladi-section")), !this.isEmpty(P)) {
            if (P.id == this.runtime.builder_section_popup_id) return;
            this.updateHeightElement(P, t, i, a, E, y, o, l, !1, !0)
        }
    }
}, LadiPageScriptV2.prototype.pauseAllVideo = function () {
    var t = document.getElementById(this.runtime.lightbox_screen_id).getElementsByClassName("lightbox-close")[0];
    if (!this.isEmpty(t)) return t.click(), this.pauseAllVideo();
    delete this.runtime.tmp.gallery_playing_video;
    for (var e = document.querySelectorAll(".iframe-video-preload:not(.no-pause)"), i = 0; i < e.length; i++) this.runEventReplayVideo(e[i].id, e[i].getAttribute("data-video-type"), !1)
}, LadiPageScriptV2.prototype.runEventReplayVideo = function (t, e, i) {
    var a = document.getElementById(t);
    if (!this.isEmpty(a)) {
        if (e == this.const.VIDEO_TYPE.youtube) {
            var n = i ? "playVideo" : "pauseVideo", r = !1;
            if (this.runtime.isYouTubeIframeAPIReady) {
                var o = window.YT.get(t);
                this.isEmpty(o) || (i && o.unMute(), o[n](), r = !0)
            }
            r || (i && a.contentWindow.postMessage(JSON.stringify({
                event: "command",
                func: "unMute",
                args: []
            }), "*"), a.contentWindow.postMessage(JSON.stringify({event: "command", func: n, args: []}), "*"))
        }
        e == this.const.VIDEO_TYPE.direct && (i ? (a.muted = !1, a.play()) : a.pause()), i ? a.classList.remove("ladi-hidden") : a.classList.add("ladi-hidden")
    }
}, LadiPageScriptV2.prototype.runEventPlayVideo = function (t, e, i, a, n, r, o, l, s) {
    var c = this, d = document.getElementById(t);
    if (!c.isEmpty(d)) {
        var u = c.findAncestor(d, "ladi-video");
        c.isEmpty(u) || (u = c.findAncestor(u, "ladi-element")), !a || r || c.isEmpty(u) || (u.classList.add("pointer-events-none"), d.classList.add("no-pause")), o && d.classList.add("ladi-hidden");
        var p = "";
        if (!c.isEmpty(u)) {
            var m = u.getElementsByClassName("ladi-video-background")[0];
            if (!c.isEmpty(m)) {
                var g = getComputedStyle(m).backgroundImage;
                g.toLowerCase().startsWith('url("') && g.toLowerCase().endsWith('")') && (g = (g = g.substr('url("'.length)).substr(0, g.length - '")'.length), c.isEmpty(g) || (p = g))
            }
        }
        var y = !0;
        if (e == c.const.VIDEO_TYPE.youtube) {
            var _ = c.getVideoId(e, i), f = function () {
                try {
                    if (c.runtime.isLoadYouTubeIframeAPI || (c.runtime.isLoadYouTubeIframeAPI = !0, window.onYouTubeIframeAPIReady = function () {
                        c.runtime.isYouTubeIframeAPIReady = !0;
                        for (; c.runtime.list_youtube_ready_exec.length > 0;) c.runtime.list_youtube_ready_exec.shift()()
                    }, c.loadScript("//www.youtube.com/iframe_api")), !c.runtime.isYouTubeIframeAPIReady) return void c.runtime.list_youtube_ready_exec.push(f);
                    d.outerHTML = d.outerHTML.replaceAll("<iframe", "<div").replaceAll("</iframe>", "</div>"), d = document.getElementById(t), n && d.classList.add("opacity-0");
                    var e = function () {
                        (d = document.getElementById(t)).classList.remove("opacity-0")
                    }, i = e, u = function (e) {
                        d = document.getElementById(t);
                        var i = window.YT.get(t);
                        c.isEmpty(i) || c.isEmpty(d) ? c.runTimeout(u, 100) : (c.runResizeAll(), a ? i.mute() : i.unMute(), o || l || i.playVideo(), c.isFunction(s) && s())
                    };
                    new window.YT.Player(t, {
                        videoId: _,
                        playerVars: {rel: 0, modestbranding: 0, playsinline: n || a ? 1 : 0, controls: !n && r ? 1 : 0},
                        events: {
                            onReady: u, onStateChange: function (i) {
                                if (y && i.data == window.YT.PlayerState.PLAYING) {
                                    y = !1;
                                    var a = function () {
                                        window.YT.get(t).getCurrentTime() >= .1 ? e() : c.runTimeout(a, 100)
                                    };
                                    n && a()
                                }
                                i.data == window.YT.PlayerState.ENDED && window.YT.get(t).playVideo()
                            }, onError: i
                        }
                    })
                } catch (t) {
                }
            };
            f()
        }
        e == c.const.VIDEO_TYPE.direct && (c.isEmpty(p) || d.setAttribute("poster", p), d.setAttribute("preload", "auto"), d.setAttribute("controlslist", "nodownload"), d.setAttribute("loop", ""), o || l || d.setAttribute("autoplay", ""), (n || a) && (d.setAttribute("playsinline", ""), d.setAttribute("webkit-playsinline", "")), !n && r && d.setAttribute("controls", ""), a ? d.setAttribute("muted", "") : d.removeAttribute("muted"), d.removeAttribute("src"), d.setAttribute("data-src", i), d.outerHTML = d.outerHTML.replaceAll("data-src=", "src="), d = document.getElementById(t), c.isFunction(s) && s(d))
    }
}, LadiPageScriptV2.prototype.playVideo = function (t, e, i, a, n, r) {
    var o = document.getElementById(t);
    if (!this.isEmpty(o)) {
        var l = document.getElementById(t + "_player");
        if (r || n || this.pauseAllVideo(), this.isEmpty(l)) {
            var s = o.getElementsByClassName("ladi-video")[0], c = t + "_player";
            e == this.const.VIDEO_TYPE.youtube && (s.innerHTML = s.innerHTML + '<iframe id="' + c + '" class="iframe-video-preload" data-video-type="' + e + '" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>', this.runEventPlayVideo(c, e, i, n, !1, a, r)), e == this.const.VIDEO_TYPE.direct && (s.innerHTML = s.innerHTML + '<video id="' + c + '" class="iframe-video-preload" data-video-type="' + e + '" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0; object-fit: cover;"></video>', this.runEventPlayVideo(c, e, i, n, !1, a, r))
        } else this.runEventReplayVideo(l.id, e, !0)
    }
}, LadiPageScriptV2.prototype.checkResizeImage = function (t) {
    var e = [".jpg", ".jpeg", ".png"], i = function (t) {
        for (var i = !1, a = 0; a < e.length; a++) if (t.endsWith(e[a])) {
            i = !0;
            break
        }
        return i
    };
    if (!i(t.toLowerCase())) {
        var a = this.getElementAHref(t, !0);
        return a.search = "", i(a.href)
    }
    return !0
}, LadiPageScriptV2.prototype.getOptimizeImage = function (t, e, i, a, n, r, o) {
    if (this.isEmpty(t) || !o) return t;
    var l = t.split("/"), s = l.indexOf("");
    if (-1 != s && l.length > s + 1 && (l[s + 1] = l[s + 1].toLowerCase()), s = l.indexOf(this.const.STATIC_W_DOMAIN.toLowerCase()), this.checkResizeImage(t) && -1 != s && (l.length == s + 3 || l.length == s + 6 && "ls" == l[3] && "product" == l[5] || l.length == s + 4 && "luid" == l[3] && "avatar" == l[4] || l.length == s + 4 && "rbg" == l[4])) {
        var c = l[s + 1].toLowerCase(), d = !0;
        if (c.startsWith("s")) {
            var u = c.split("x");
            2 == u.length && parseFloatLadiPage(u[1]) == u[1] && (d = !1)
        }
        if (d) {
            if (o || n) {
                if (e = parseInt(e) || 0, i = parseInt(i) || 0, a) {
                    var p = this.const.RESIZE_RANGE + (r ? this.const.RESIZE_ADD_PIXEL_THUMB : this.const.RESIZE_ADD_PIXEL);
                    e = e - e % this.const.RESIZE_RANGE + p, i = i - i % this.const.RESIZE_RANGE + p
                }
            } else e = this.const.WIDTH_SECTION_RESIZE[LadiPage.data.device_screen], i = this.const.WIDTH_SECTION_RESIZE[LadiPage.data.device_screen];
            l.insert(s + 1, "s" + e + "x" + i)
        }
    }
    return t = l.join("/")
}, LadiPageScriptV2.prototype.historyReplaceState = function (t) {
    try {
        window.history.replaceState(null, null, t)
    } catch (t) {
    }
}, LadiPageScriptV2.prototype.resetViewport = function () {
    this.isEmpty(this.runtime.tmp.timeoutViewport) || this.removeTimeout(this.runtime.tmp.timeoutViewport), this.isFunction(window.ladi_viewport) && (this.runtime.tmp.timeoutViewport = this.runTimeout(window.ladi_viewport, 10))
}, LadiPageScriptV2.prototype.runResizeSectionBackground = function () {
    var t = this;
    t instanceof LadiPageScriptV2 || (t = LadiPageScript);
    try {
        for (var e = document.querySelectorAll(".ladi-section .ladi-section-background iframe.ladi-section-background-video"), i = 0; i < e.length; i++) {
            var a = e[i], n = parseFloatLadiPage(a.getAttribute("width")) || 0,
                r = parseFloatLadiPage(a.getAttribute("height")) || 0;
            if (!(n <= 0 || r <= 0)) {
                var o = t.findAncestor(a, "ladi-section-background"), l = o.clientWidth, s = r / n * l;
                s < o.clientHeight && (l = o.clientHeight / s * l, s = o.clientHeight);
                var c = (o.clientHeight - s) / 2, d = (o.clientWidth - l) / 2;
                a.style.setProperty("top", (parseFloatLadiPage(c) || 0) + "px"), a.style.setProperty("left", (parseFloatLadiPage(d) || 0) + "px"), a.style.setProperty("width", (parseFloatLadiPage(l) || 0) + "px"), a.style.setProperty("height", (parseFloatLadiPage(s) || 0) + "px")
            }
        }
    } catch (t) {
    }
}, LadiPageScriptV2.prototype.runResizeAll = function () {
    var t = this;
    t instanceof LadiPageScriptV2 || (t = LadiPageScript);
    try {
        t.isFunction(window.ladi_viewport) && window.ladi_viewport(), t.runtime.tmp.generateAddToCart(), t.runtime.tmp.generateCart(), Object.keys(t.runtime.eventData).forEach(function (e) {
            var i = t.runtime.eventData[e];
            t.loadCollectionData(i["option.setting_product_type"], e, null, null, !1, !0)
        });
        for (var e = document.querySelectorAll("#" + t.runtime.builder_section_popup_id + " .ladi-container > .ladi-element"), i = 0; i < e.length; i++) "block" == getComputedStyle(e[i]).display && window.ladi(e[i].id).show();
        t.runResizeSectionBackground()
    } catch (t) {
    }
}, LadiPageScriptV2.prototype.runEventResize = function (t) {
    var e = this;
    e instanceof LadiPageScriptV2 || (e = LadiPageScript), e.isEmpty(e.runtime.tmp.timeoutResizeAll) || e.removeTimeout(e.runtime.tmp.timeoutResizeAll), e.runtime.tmp.timeoutResizeAll = e.runTimeout(e.runResizeAll, 10)
}, LadiPageScriptV2.prototype.runEventOrientationChange = function (t) {
    var e = this;
    e instanceof LadiPageScriptV2 || (e = LadiPageScript), e.runEventResize(t)
}, LadiPageScriptV2.prototype.runAfterLocation = function () {
    var t = this;
    for (t instanceof LadiPageScriptV2 || (t = LadiPageScript); t.runtime.tmp.runAfterLocation.length > 0;) {
        t.runtime.tmp.runAfterLocation.shift()()
    }
    t.reloadFeeShipping()
}, LadiPageScriptV2.prototype.randomId = function (t) {
    var e = Date.now(), i = window.performance && window.performance.now && 1e3 * window.performance.now() || 0,
        a = "xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g, function (t) {
            var a = 16 * Math.random();
            return e > 0 ? (a = (e + a) % 16 | 0, e = Math.floor(e / 16)) : (a = (i + a) % 16 | 0, i = Math.floor(i / 16)), ("x" === t ? a : 3 & a | 8).toString(16)
        });
    if (t) for (; "-" == a[0] || a[0] == parseInt(a[0]);) a = a.substr(1);
    return a
}, LadiPageScriptV2.prototype.removeLazyloadPopup = function (t) {
    var e = document.getElementById(t);
    if (!this.isEmpty(e)) for (var i = e.getElementsByClassName("ladi-lazyload"); i.length > 0;) i[0].classList.remove("ladi-lazyload")
}, LadiPageScriptV2.prototype.reloadLazyload = function () {
    var t = this;
    t instanceof LadiPageScriptV2 || (t = LadiPageScript);
    for (var e = document.getElementsByClassName("ladi-lazyload"), i = [], a = 0; a < e.length; a++) {
        var n = t.getElementBoundingClientRect(e[a]).y + window.scrollY;
        window.scrollY + t.getHeightDevice() > n && n + e[a].offsetHeight > window.scrollY && i.push(e[a])
    }
    i.forEach(function (t) {
        t.classList.remove("ladi-lazyload")
    });
    for (var r = document.querySelectorAll(".ladi-gallery .ladi-gallery-view-item.selected:not(.ladi-lazyload)"), o = 0; o < r.length; o++) if (t.isEmpty(r[o].getAttribute("data-lazyload"))) {
        r[o].setAttribute("data-lazyload", !0);
        for (var l = r[o].parentElement.getElementsByClassName("ladi-lazyload"); l.length > 0;) l[0].classList.remove("ladi-lazyload")
    }
}, LadiPageScriptV2.prototype.documentLoaded = function () {
    var t = this;
    t instanceof LadiPageScriptV2 || (t = LadiPageScript);
    var e = t.getURLSearchParams(window.location.search, null, !0), i = e.ladishow, a = e.ladihide, n = e.laditop,
        r = window.location.hash;
    t.isEmpty(i) ? i = [] : t.isArray(i) || (i = i.split(",").removeSpace()), t.isEmpty(a) ? a = [] : t.isArray(a) || (a = a.split(",").removeSpace()), t.isEmpty(n) ? n = [] : t.isArray(n) || (n = n.split(",").removeSpace().reverse());
    
    if (a.forEach(function (t) {
        window.ladi(t).hide()
    }), i.forEach(function (t) {
        window.ladi(t).show()
    }), n.forEach(function (t) {
        window.ladi(t).top()
    }), !t.isEmpty(r)) try {
        var d = document.querySelector(r);
        t.isEmpty(d) || t.isEmpty(d.id) || t.runTimeout(function () {
            window.ladi(d.id).scroll()
        }, 300)
    } catch (t) {
    }
    t.resetViewport()
}, LadiPageScriptV2.prototype.getWidthDevice = function () {
    return window.outerWidth > 0 ? window.outerWidth : window.screen.width
}, LadiPageScriptV2.prototype.getHeightDevice = function (t) {
    return window.outerHeight > 0 && !this.runtime.isDesktop && (t && window.outerHeight > window.innerHeight || !t && window.innerHeight > window.outerHeight) ? window.outerHeight : window.innerHeight
}, LadiPageScriptV2.prototype.startAutoScroll = function (t, e, i, a) {
    if (this.runtime.isDesktop ? i : a) {
        var n = document.getElementById(t);
        if (!this.isEmpty(n) && !n.classList.contains("ladi-auto-scroll")) {
            var r = 0;
            if ("section" != e) {
                if (n.clientWidth <= this.getWidthDevice()) return;
                r = (r = parseFloatLadiPage(getComputedStyle(n).left) || 0) > 0 ? 0 : -1 * r
            } else {
                for (var o = n.querySelectorAll(".ladi-container > .ladi-element"), l = 0; l < o.length; l++) {
                    var s = parseFloatLadiPage(getComputedStyle(o[l]).left) || 0;
                    s < r && (r = s)
                }
                r = r > 0 ? 0 : -1 * r, n.querySelector(".ladi-container").style.setProperty("margin-left", r + "px")
            }
            n.classList.add("ladi-auto-scroll"), n.scrollLeft = r
        }
    }
}, LadiPageScriptV2.prototype.getLinkUTMRedirect = function (t, e) {
    var i = this.createTmpElement("a", "", {href: t}), a = this.getURLSearchParams(e), n = a.utm_source;
    if (!this.isEmpty(n)) {
        n = "utm_source=" + encodeURIComponent(n);
        var r = a.utm_medium, o = a.utm_campaign, l = a.utm_term, s = a.utm_content;
        this.isEmpty(r) || (n += "&utm_medium=" + encodeURIComponent(r)), this.isEmpty(o) || (n += "&utm_campaign=" + encodeURIComponent(o)), this.isEmpty(l) || (n += "&utm_term=" + encodeURIComponent(l)), this.isEmpty(s) || (n += "&utm_content=" + encodeURIComponent(s)), this.isEmpty(i.href) || this.isEmpty(i.host) || !this.isEmpty(this.getURLSearchParams(i.search, "utm_source")) || (i.search = i.search + (this.isEmpty(i.search) ? "?" : "&") + n)
    }
    return i.href
}, LadiPageScriptV2.prototype.randomInt = function (t, e) {
    return t = Math.ceil(t), e = Math.floor(e), Math.floor(Math.random() * (e - t + 1)) + t
}, LadiPageScriptV2.prototype.randomString = function (t) {
    for (var e = "", i = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz", a = i.length, n = 0; n < t; n++) e += i.charAt(Math.floor(Math.random() * a));
    return e
}, LadiPageScriptV2.prototype.runCallback = function (t, e) {
    if (this.isFunction(e)) {
        var i = this;
        if (t) {
            var a = i.runInterval(function () {
                i.removeInterval(a), i.runCallback(!1, e)
            }, 0);
            return
        }
        e()
    }
}, LadiPageScriptV2.prototype.runTimeout = function (t, e) {
    if (this.isFunction(t)) {
        if (!this.isEmpty(e) && e > 0) return setTimeout(t, e);
        t()
    }
}, LadiPageScriptV2.prototype.removeTimeout = function (t) {
    return clearTimeout(t)
}, LadiPageScriptV2.prototype.removeInterval = function (t) {
    return clearInterval(t)
}, LadiPageScriptV2.prototype.runInterval = function (t, e) {
    if (this.isFunction(t)) return setInterval(t, e)
}, LadiPageScriptV2.prototype.deleteCookie = function (t) {
    // document.cookie = t + "=; expires = Thu, 01 Jan 1970 00:00:00 GMT; path = /", "/" != window.location.pathname && (document.cookie = t + "=; expires = Thu, 01 Jan 1970 00:00:00 GMT; path = " + window.location.pathname)
}, LadiPageScriptV2.prototype.setCookie = function (t, e, i, a, n, r) {
    var o = "";
    if (n) o = "0"; else {
        var l = new Date;
        l.setTime(l.getTime() + 24 * a * 60 * 60 * 1e3), o = "expires = " + l.toUTCString()
    }
    var s = e + " = " + i;
    this.isEmpty(o) || (s += "; " + o), this.isEmpty(t) || (s += "; domain = " + t), this.isEmpty(r) || this.runtime.isIE || (s += "; path = " + r), document.cookie = s
}, LadiPageScriptV2.prototype.getCookie = function (t) {
    
}, LadiPageScriptV2.prototype.getURLSearchParams = function (t, e, i) {
    var a = {};
    if (t = this.isNull(t) ? window.location.search : t, !this.isEmpty(t)) for (var n = t.substr(1).split("&"), r = 0; r < n.length; ++r) {
        var o = n[r].split("=", 2);
        this.isNull(a[o[0]]) ? 1 == o.length ? a[o[0]] = "" : a[o[0]] = decodeURIComponent(o[1].replace(/\+/g, " ")) : i && (this.isArray(a[o[0]]) || (a[o[0]] = [a[o[0]]]), 1 == o.length ? a[o[0]].push("") : a[o[0]].push(decodeURIComponent(o[1].replace(/\+/g, " "))))
    }
    return this.isEmpty(e) ? a : a[e]
}, LadiPageScriptV2.prototype.getVideoId = function (t, e) {
    if (this.isEmpty(e)) return e;
    if (t == this.const.VIDEO_TYPE.youtube) {
        var i = this.createTmpElement("a", "", {href: e});
        -1 != e.toLowerCase().indexOf("watch") ? e = this.getURLSearchParams(i.search, "v") : -1 != e.toLowerCase().indexOf("embed/") ? e = i.pathname.substring("/embed/".length) : -1 != e.toLowerCase().indexOf("youtu.be") && (e = i.pathname.substring("/".length))
    }
    return e
}, LadiPageScriptV2.prototype.sendRequest = function (t, e, i, a, n, r) {
    this.sendRequestWithOption(t, e, i, a, n, null, r)
}, LadiPageScriptV2.prototype.sendRequestWithOption = function (t, e, i, a, n, r, o) {
    var l = new XMLHttpRequest;
    try {
        this.isFunction(o) && (l.onreadystatechange = function () {
            var t = null;
            try {
                t = l.responseText
            } catch (t) {
            }
            o(t, l.status, l, e)
        }), l.open(t, e, a);
        this.isObject(n) && Object.keys(n).forEach(function (t) {
            l.setRequestHeader(t, n[t])
        }), this.isObject(r) && Object.keys(r).forEach(function (t) {
            l[t] = r[t]
        }), l.send(i)
    } catch (t) {
        this.isFunction(o) && o(t, 0, l, e)
    }
}, LadiPageScriptV2.prototype.runEventBackdropClick = function (t) {
    t.stopPropagation();
    var e = this;
    e instanceof LadiPageScriptV2 || (e = LadiPageScript);
    for (var i = null, a = document.querySelectorAll('[data-popup-backdrop="true"]'), n = 0; n < a.length; n++) "none" != getComputedStyle(a[n]).display && (i = a[n].id);
    e.runRemovePopup(i, e.runtime.isClient)
}, LadiPageScriptV2.prototype.runEventMouseMove = function (t) {
    t.stopPropagation();
    var e = this;
    e instanceof LadiPageScriptV2 || (e = LadiPageScript), t = e.getEventCursorData(t);
    var i = null, a = 0, n = 0, r = 0;
    e.isEmpty(e.runtime.current_element_mouse_down_carousel) || (i = document.getElementById(e.runtime.current_element_mouse_down_carousel), a = t.pageX - e.runtime.current_element_mouse_down_carousel_position_x, n = parseFloatLadiPage(i.getElementsByClassName("ladi-carousel-content")[0].getAttribute("data-left")) || 0, (n += a) < (r = -((parseFloatLadiPage(e.runtime.eventData[e.runtime.current_element_mouse_down_carousel][e.runtime.device + ".option.carousel_crop.width"]) || 0) - i.clientWidth)) && (n = r), n > 0 && (n = 0), i.getElementsByClassName("ladi-carousel-content")[0].style.setProperty("left", n + "px"));
    if (!e.isEmpty(e.runtime.current_element_mouse_down_gallery_view)) {
        i = document.getElementById(e.runtime.current_element_mouse_down_gallery_view), a = t.pageX - e.runtime.current_element_mouse_down_gallery_view_position_x;
        var o = parseFloatLadiPage(i.getAttribute("data-current")) || 0;
        o == (parseFloatLadiPage(i.getAttribute("data-max-item")) || 0) - 1 && a < 0 && (a = 0), a > 0 && 0 == o && (a = 0), a >= e.runtime.current_element_mouse_down_gallery_view_diff ? (e.runtime.current_element_mouse_down_gallery_view = null, e.runtime.current_element_mouse_down_gallery_view_position_x = 0, i.getElementsByClassName("ladi-gallery-view-arrow-left")[0].click()) : a <= -e.runtime.current_element_mouse_down_gallery_view_diff ? (e.runtime.current_element_mouse_down_gallery_view = null, e.runtime.current_element_mouse_down_gallery_view_position_x = 0, i.getElementsByClassName("ladi-gallery-view-arrow-right")[0].click()) : i.querySelectorAll(".ladi-gallery-view-item.selected").length > 0 && i.querySelectorAll(".ladi-gallery-view-item.selected")[0].style.setProperty("left", a + "px")
    }
    e.isEmpty(e.runtime.current_element_mouse_down_gallery_control) || (i = document.getElementById(e.runtime.current_element_mouse_down_gallery_control), a = t.pageX - e.runtime.current_element_mouse_down_gallery_control_position_x, n = parseFloatLadiPage(i.getElementsByClassName("ladi-gallery-control-box")[0].getAttribute("data-left")) || 0, (n += a) < (r = (parseFloatLadiPage(getComputedStyle(i.getElementsByClassName("ladi-gallery-control")[0]).width) || 0) - (parseFloatLadiPage(getComputedStyle(i.getElementsByClassName("ladi-gallery-control-box")[0]).width) || 0)) && (n = r), n > 0 && (n = 0), i.getElementsByClassName("ladi-gallery-control-box")[0].style.setProperty("left", n + "px"))
}, LadiPageScriptV2.prototype.runEventMouseUp = function (t) {
    t.stopPropagation();
    var e = this;
    e instanceof LadiPageScriptV2 || (e = LadiPageScript), t = e.getEventCursorData(t);
    var i = null, a = 0;
    if (!e.isEmpty(e.runtime.current_element_mouse_down_carousel)) {
        delete e.runtime.timenext_carousel[e.runtime.current_element_mouse_down_carousel], a = t.pageX - e.runtime.current_element_mouse_down_carousel_position_x;
        var n = (i = document.getElementById(e.runtime.current_element_mouse_down_carousel)).getElementsByClassName("ladi-carousel-content")[0].getAttribute("data-left");
        i.getElementsByClassName("ladi-carousel-content")[0].removeAttribute("data-left"), i.getElementsByClassName("ladi-carousel-content")[0].style.removeProperty("transition-duration"), e.runtime.current_element_mouse_down_carousel = null, a >= e.runtime.current_element_mouse_down_carousel_diff ? i.getElementsByClassName("ladi-carousel-arrow-left")[0].click() : a <= -e.runtime.current_element_mouse_down_carousel_diff ? i.getElementsByClassName("ladi-carousel-arrow-right")[0].click() : i.getElementsByClassName("ladi-carousel-content").length > 0 && (i.getElementsByClassName("ladi-carousel-content")[0].style.setProperty("transition-duration", "100ms"), i.getElementsByClassName("ladi-carousel-content")[0].style.setProperty("left", n), e.runTimeout(function () {
            i.getElementsByClassName("ladi-carousel-content")[0].style.removeProperty("transition-duration")
        }, 1))
    }
    e.isEmpty(e.runtime.current_element_mouse_down_gallery_view) || (i = document.getElementById(e.runtime.current_element_mouse_down_gallery_view)).querySelectorAll(".ladi-gallery-view-item.selected").length > 0 && i.querySelectorAll(".ladi-gallery-view-item.selected")[0].style.removeProperty("left"), e.isEmpty(e.runtime.current_element_mouse_down_gallery_control) || ((i = document.getElementById(e.runtime.current_element_mouse_down_gallery_control)).getElementsByClassName("ladi-gallery-control-box")[0].removeAttribute("data-left"), i.getElementsByClassName("ladi-gallery-control-box")[0].style.removeProperty("transition-duration")), e.runtime.current_element_mouse_down_carousel_position_x = 0, e.runtime.current_element_mouse_down_gallery_view = null, e.runtime.current_element_mouse_down_gallery_view_position_x = 0;
    var r = 0;
    e.runtime.current_element_mouse_down_gallery_control_time + e.runtime.current_element_mouse_down_gallery_control_time_click < Date.now() && (r = 5), e.runTimeout(function () {
        e.runtime.current_element_mouse_down_gallery_control = null, e.runtime.current_element_mouse_down_gallery_control_time = 0, e.runtime.current_element_mouse_down_gallery_control_position_x = 0
    }, r)
}, LadiPageScriptV2.prototype.runEventMouseLeave = function (t) {
    var e = this;
    e instanceof LadiPageScriptV2 || (e = LadiPageScript), Object.keys(e.runtime.eventData).forEach(function (t) {
        var i = e.runtime.eventData[t];
        "popup" == i.type && i["option.show_popup_exit_page"] && window.ladi(t).show()
    })
}, LadiPageScriptV2.prototype.runEventScroll = function (t) {
    var e = this;
    if (e instanceof LadiPageScriptV2 || (e = LadiPageScript), !e.isEmpty(e.runtime.eventData) && !e.runtime.tmp.is_run_show_popup) {
        var i = e.runtime.isDesktop;
        if (Object.keys(e.runtime.eventData).forEach(function (t) {
            var a = e.runtime.eventData[t], n = null, r = null, o = null;
            if (-1 != Object.keys(e.runtime.list_scroll_func).indexOf(t) && (n = document.getElementById(t), !e.isEmpty(n))) {
                var l = !1;
                "section" == a.type ? (r = n.offsetTop, (window.scrollY >= r && window.scrollY <= r + n.offsetHeight || window.scrollY + e.getHeightDevice() >= r && window.scrollY + e.getHeightDevice() <= r + n.offsetHeight || r >= window.scrollY && window.scrollY + e.getHeightDevice() >= r) && (l = !0)) : (r = e.getElementBoundingClientRect(n).y + window.scrollY, (window.scrollY >= r && window.scrollY <= r + n.offsetHeight || window.scrollY + e.getHeightDevice(!0) >= r && window.scrollY + e.getHeightDevice(!0) <= r + n.offsetHeight || r >= window.scrollY && window.scrollY + e.getHeightDevice(!0) >= r) && (l = !0)), l && (o = e.runtime.list_scroll_func[t], delete e.runtime.list_scroll_func[t], o())
            }
            var s = a[e.runtime.device + ".style.animation-name"];
            if (!e.isEmpty(s) && (n = document.getElementById(t), !e.isEmpty(n) && !n.classList.contains("ladi-animation"))) {
                var c = parseFloatLadiPage(a[e.runtime.device + ".style.animation-delay"]) || 0;
                r = e.getElementBoundingClientRect(n).y + window.scrollY;
                var d = window.scrollY >= r && window.scrollY <= r + n.offsetHeight || window.scrollY + e.getHeightDevice(!0) >= r && window.scrollY + e.getHeightDevice(!0) <= r + n.offsetHeight || r >= window.scrollY && window.scrollY + e.getHeightDevice(!0) >= r;
                e.runtime.tmp.isFirstScroll && c > 0 && !d && n.classList.add("ladi-animation-hidden"), d && (n.classList.add("ladi-animation"), e.runTimeout(function () {
                    n.classList.remove("ladi-animation-hidden")
                }, 1e3 * c))
            }
            var u = null, p = null, m = null;
            if (a[e.runtime.device + ".option.sticky"] && (u = a[e.runtime.device + ".option.sticky_position"], p = parseFloatLadiPage(a[e.runtime.device + ".option.sticky_position_top"]), m = parseFloatLadiPage(a[e.runtime.device + ".option.sticky_position_bottom"])), !e.isEmpty(u)) {
                var g = document.getElementById(t);
                if (!e.isEmpty(g) && -1 != ["default", "top", "bottom"].indexOf(u)) {
                    var y = e.getElementBoundingClientRect(g), _ = g.getAttribute("data-top"),
                        f = g.getAttribute("data-left");
                    e.isEmpty(_) ? (g.setAttribute("data-top", y.y + window.scrollY), _ = y.y) : _ = parseFloatLadiPage(_), e.isEmpty(f) ? (g.setAttribute("data-left", y.x + window.scrollX), f = y.x) : f = parseFloatLadiPage(f);
                    var h = null, v = null;
                    if ("default" == u && (p > _ - window.scrollY ? (h = p + "px", v = f + "px") : e.getHeightDevice() - m - g.clientHeight < _ - window.scrollY && (h = "calc(100% - " + (m + g.clientHeight) + "px)", v = f + "px")), "top" == u && (p > _ - window.scrollY || e.getHeightDevice() - 0 < _ - window.scrollY) && (h = p + "px", v = f + "px"), "bottom" == u && (e.getHeightDevice() - m - g.clientHeight < _ - window.scrollY || 0 > _ + g.clientHeight - window.scrollY) && (h = "calc(100% - " + (m + g.clientHeight) + "px)", v = f + "px"), e.isEmpty(h) || e.isEmpty(v)) g.style.removeProperty("top"), g.style.removeProperty("left"), g.style.removeProperty("width"), g.style.removeProperty("position"), g.style.removeProperty("z-index"); else if (g.style.setProperty("top", h), g.style.setProperty("left", v), "section" == a.type && (e.runtime.isMobileOnly ? g.style.setProperty("width", document.getElementsByClassName("ladi-wraper")[0].clientWidth + "px") : i && g.style.setProperty("width", "100%")), g.style.setProperty("position", "fixed"), g.style.setProperty("z-index", "90000050"), !g.hasAttribute("data-first")) {
                        g.setAttribute("data-first", !0), g.classList.contains("ladi-animation-hidden") && (g.classList.remove("ladi-animation-hidden"), g.classList.add("ladi-animation"));
                        for (var E = g.getElementsByClassName("ladi-animation-hidden"); E.length > 0;) E[0].classList.add("ladi-animation"), E[0].classList.remove("ladi-animation-hidden");
                        g.classList.remove("ladi-lazyload");
                        for (var L = g.getElementsByClassName("ladi-lazyload"); L.length > 0;) L[0].classList.remove("ladi-lazyload")
                    }
                }
            }
            if ("popup" == a.type) {
                if (!e.isEmpty(e.runtime.scroll_show_popup[t])) return;
                e.isEmpty(a["option.popup_welcome_page_scroll_to"]) || (n = document.getElementById(a["option.popup_welcome_page_scroll_to"]), e.isEmpty(n) || (r = n.offsetTop, (window.scrollY >= r && window.scrollY <= r + n.offsetHeight || window.scrollY + e.getHeightDevice() >= r && window.scrollY + e.getHeightDevice() <= r + n.offsetHeight || r >= window.scrollY && window.scrollY + e.getHeightDevice() >= r) && (e.runtime.scroll_show_popup[t] = !0, window.ladi(t).show())))
            }
            if ("section" == a.type) {
                if (!e.isEmpty(e.runtime.scroll_to_section[t])) return;
                n = document.getElementById(t), e.isEmpty(n) || (r = n.offsetTop, (window.scrollY >= r && window.scrollY <= r + n.offsetHeight || window.scrollY + e.getHeightDevice() >= r && window.scrollY + e.getHeightDevice() <= r + n.offsetHeight || r >= window.scrollY && window.scrollY + e.getHeightDevice() >= r) && (e.runtime.scroll_to_section[t] = !0, e.runEventTracking(t, !1)))
            }
        }), e.runtime.isClient) for (var a = Math.round((window.scrollY + e.getHeightDevice()) / document.body.clientHeight * 100), n = 1; n < e.const.PERCENT_TRACKING_SCROLL.length; n++) a > e.const.PERCENT_TRACKING_SCROLL[n - 1] && a <= e.const.PERCENT_TRACKING_SCROLL[n] && -1 == e.runtime.scroll_depth.indexOf(e.const.PERCENT_TRACKING_SCROLL[n]) && (e.runtime.scroll_depth.push(e.const.PERCENT_TRACKING_SCROLL[n]), e.isFunction(window.gtag) && window.gtag("event", "ScrollDepth_" + e.const.PERCENT_TRACKING_SCROLL[n] + "_percent", {
            event_category: "LadiPageScrollDepth",
            event_label: window.location.host + window.location.pathname,
            non_interaction: !0
        }), e.isFunction(window.fbq) && window.fbq("trackCustom", "ScrollDepth_" + e.const.PERCENT_TRACKING_SCROLL[n] + "_percent"));
        e.runtime.tmp.isFirstScroll = !1
    }
}, LadiPageScriptV2.prototype.runRemovePopup = function (t, e, i, a) {
    var n = this,
        r = document.querySelectorAll("#" + this.runtime.builder_section_popup_id + " .ladi-container > .ladi-element"),
        o = !1;
    e || LadiPagePlugin.getPlugin("popup").removeStyleShowPopupBuilder();
    var l = function () {
        var t = document.getElementById("style_popup");
        n.isEmpty(t) || t.parentElement.removeChild(t)
        var m = document.getElementsByClassName('js_errorMessage')
        if(m.length > 0) m[0].remove();
    }, s = [];
    if (this.isEmpty(t)) for (var c = 0; c < r.length; c++) s.push(r[c].id); else s.push(t);
    s.forEach(function (t) {
        var i = document.getElementById(t);
        if (!n.isEmpty(i)) {
            n.isEmpty(i.style.getPropertyValue("display")) || (o = !0), i.style.removeProperty("display"), i.style.removeProperty("z-index");
            var a = i.getElementsByClassName("popup-close")[0];
            if (n.isEmpty(a) || a.style.removeProperty("display"), i.hasAttribute("data-popup-backdrop")) {
                l(), e && (n.isEmpty(n.runtime.tmp.bodyScrollY) || window.scrollTo(0, n.runtime.tmp.bodyScrollY)), n.runtime.tmp.bodyScrollY = null;
                for (var s = 0; s < r.length; s++) r[s].style.removeProperty("z-index")
            }
        }
    }), o && this.isFunction(i) && i(), a && l()
}, LadiPageScriptV2.prototype.runShowPopup = function (t, e, i, a, n) {
    var r = "";
    if (!this.isEmpty(t)) {
        var m = document.getElementsByClassName('js_errorMessage')
        if(m.length > 0) m[0].remove();
        var o = document.getElementById(t), l = null;
        if (!a || !this.isEmpty(o) && !this.isEmpty(this.runtime.eventData[t])) {
            var s = this;
            this.runtime.tmp.is_run_show_popup = !0;
            var c = 0;
            a || LadiPagePlugin.getPlugin("popup").showStyleShowPopupBuilder(t), a && (e = this.runtime.eventData[t][this.runtime.device + ".option.popup_position"], i = this.runtime.eventData[t][this.runtime.device + ".option.popup_backdrop"]);
            var d = function () {
                if (a) {
                    var e = window.scrollY;
                    if (!s.isEmpty(s.runtime.tmp.bodyScrollY)) {
                        var i = getComputedStyle(document.body);
                        "fixed" == i.position && (parseFloatLadiPage(i.top) || 0) == -1 * s.runtime.tmp.bodyScrollY && (e = s.runtime.tmp.bodyScrollY)
                    }
                    "block" != o.style.getPropertyValue("display") || s.isEmpty(s.runtime.tmp.bodyScrollY) || (e = s.runtime.tmp.bodyScrollY), r += ".js_errorMessage {", r += "position: fixed !important;", r +=  "z-index: 999999999!important;}" ,r += "body {", r += "position: fixed !important;", r += "width: 100% !important;", r += "top: -" + e + "px", r += "}", s.runtime.tmp.bodyScrollY = e, l = function () {
                        s.runtime.tmp.bodyScrollY = e
                    }
                }
                for (var n = document.querySelectorAll("#" + s.runtime.builder_section_popup_id + " .ladi-container > .ladi-element"), d = 0; d < n.length; d++) n[d].id != t && n[d].style.setProperty("z-index", "1", "important");
                c = 500
            };
            e == this.const.POSITION_TYPE.default ? (r += "#" + this.runtime.backdrop_popup_id + " { display: block !important; " + i + "}", o.setAttribute("data-popup-backdrop", !0), d()) : a || (r += "#" + this.runtime.backdrop_popup_id + " { display: block !important;}", o.setAttribute("data-popup-backdrop", !0), d());
            var u = "block" == o.style.getPropertyValue("display");
            this.isFunction(n) && !u && (n(), this.isFunction(l) && l()), o.style.setProperty("display", "block", "important");
            var p = o.hasAttribute("data-scroll"), m = !1;
            if (!p && o.clientHeight > .9 * this.getHeightDevice() && (a ? (o.setAttribute("data-scroll", !0), o.style.setProperty("overflow-y", "auto", "important"), o.style.setProperty("overflow-x", "hidden", "important"), p = !0) : m = !0), p && a && (o.getElementsByClassName("ladi-popup")[0].style.removeProperty("height"), o.style.removeProperty("max-height"), o.getElementsByClassName("ladi-popup")[0].style.setProperty("height", o.clientHeight + "px", "important"), o.style.setProperty("max-height", .9 * this.getHeightDevice() + "px")), a || LadiPagePlugin.getPlugin("popup").styleShowPopupBuilderUpDown(t, m), s.isEmpty(r) || this.createStyleElement("style_popup", r), a && !this.isEmpty(o)) {
                var g = o.getElementsByClassName("popup-close")[0];
                this.isEmpty(g) && ((g = document.createElement("div")).className = "popup-close", o.appendChild(g), g.addEventListener("click", function (e) {
                    e.stopPropagation(), s.runRemovePopup(t, a)
                })), o.getElementsByClassName("popup-close")[0].style.setProperty("display", "block", "important");
                var y = function () {
                    var t = o.getElementsByClassName("popup-close")[0];
                    if (!s.isEmpty(t)) {
                        var e = s.getElementBoundingClientRect(o), i = 15, a = 15;
                        e.x + 30 - t.clientWidth > a && (a = e.x + 30 - t.clientWidth), e.y + 30 - t.clientHeight > i && (i = e.y + 30 - t.clientHeight), p && (a += s.runtime.widthScrollBar), t.style.setProperty("right", a + "px"), t.style.setProperty("top", i + "px"), t.style.setProperty("position", "fixed")
                    }
                };
                p && (y(), o.hasAttribute("data-resize-scroll") || (o.setAttribute("data-resize-scroll", !0), window.addEventListener("resize", y)))
            }
            a && !u && this.runEventTracking(t, !1), s.runTimeout(function () {
                delete s.runtime.tmp.is_run_show_popup, s.runEventScroll()
            }, c)
        }
    }
}, LadiPageScriptV2.prototype.runEventTracking = function (t, e) {
    
}, LadiPageScriptV2.prototype.runFunctionString = function (t) {
    try {
        new Function(t)()
    } catch (t) {
    }
}, LadiPageScriptV2.prototype.loadCollectionData = function (t, e, i, a, n, r) {
    var o = this, l = o.runtime.eventData[e];
    if (!o.isEmpty(l) && "collection" == l.type) {
        var s = this.runtime.isDesktop ? this.const.DESKTOP : this.const.MOBILE,
            c = l[s + ".option.collection_setting.row"], d = l[s + ".option.collection_setting.column"],
            u = function (t, e, i, a, n, r) {
                var l = JSON.stringify(e), s = null;
                if (o.isEmpty(n) || l !== (s = o.generateProductKey(l, !0, a, n, i, r, !0, function (o) {
                    u(t, e, i, a, n, r)
                }))) {
                    var c = null, d = e.type, p = null;
                    if ("headline" == d && (p = t.getElementsByClassName("ladi-headline")[0], o.isEmpty(p) || (p.innerHTML = s)), "paragraph" == d && (p = t.getElementsByClassName("ladi-paragraph")[0], o.isEmpty(p) || (p.innerHTML = s)), "image" == d) {
                        c = o.getOptimizeImage(s, t.clientWidth, t.clientHeight, !0, !1, !1, !0);
                        var m = t.getElementsByClassName("ladi-image-background")[0];
                        o.isEmpty(m) || (o.isEmpty(c) ? m.style.setProperty("background-image", "none") : m.style.setProperty("background-image", 'url("' + c + '")'))
                    }
                }
            }, p = function (t) {
                var e = document.getElementById(t);
                if (!o.isEmpty(e)) {
                    var i = e.getElementsByClassName("ladi-collection-content")[0], a = "style_collection_" + t,
                        n = document.getElementById(a);
                    o.isEmpty(n) || n.parentElement.removeChild(n);
                    var r = "";
                    if (e.hasAttribute("data-max-page")) {
                        var l = i.querySelector(".ladi-collection-page.last"),
                            s = l.getElementsByClassName("ladi-collection-item"), u = Math.ceil(s.length / d);
                        r += "#" + t + " .ladi-collection-content .ladi-collection-page.last {", r += "height: calc(" + getComputedStyle(l).height + " / " + c + " * " + u + ");", r += "}", o.createStyleElement(a, r)
                    }
                    var p = parseFloatLadiPage(getComputedStyle(e).height) || 0, m = i.scrollHeight;
                    if (r += "#" + t + " {height: " + m + "px;}", o.createStyleElement(a, r), p != m) {
                        var g = o.findAncestor(e, "ladi-element");
                        o.isEmpty(g) && (g = o.findAncestor(e, "ladi-section")), o.updateHeightElement(g, e, 50, 10, p, m, a, r, !0)
                    }
                }
            }, m = function (t) {
                var e = document.getElementById(t);
                if (!o.isEmpty(e) && e.hasAttribute("data-page")) {
                    var i = "0", a = "100%", n = parseFloatLadiPage(e.getAttribute("data-page")) || 1,
                        r = e.getElementsByClassName("ladi-collection-content")[0].getElementsByClassName("ladi-collection-page"),
                        l = r[r.length - 1].getElementsByClassName("ladi-collection-item"), s = d - l.length, c = "";
                    s > 0 ? (n != r.length ? n > 1 && (i = -(n - 1) + "00%") : i = "calc(-" + (n - 1) + "00% + (100% / " + d + " * " + s + "))", a = "calc(" + r.length + "00% - (100% / " + d + " * " + s + "))", c += "#" + t + " .ladi-collection-content .ladi-collection-page.last {", c += "width: calc(" + getComputedStyle(e).width + " / " + d + " * " + s + ");", c += "}") : (n > 1 && (i = -(n - 1) + "00%"), a = r.length + "00%");
                    var u = "style_collection_" + t, p = document.getElementById(u);
                    o.isEmpty(p) || p.parentElement.removeChild(p);
                    var m = "#" + t + " .ladi-collection-content {";
                    m += "width: " + a + ";", m += "left: " + i + ";", m += "}", m += c, o.createStyleElement(u, m)
                }
            }, g = function (e, r, l) {
                var s = c * d, y = o.getListProductByTagId(t, r, i, l, s, a, !0, function () {
                    g(e, r, l)
                });
                if (o.isObject(y) && o.isArray(y.products)) {
                    var _ = document.getElementById(e);
                    if (o.isEmpty(_)) return;
                    if (_.getAttribute("data-page") == a) return;
                    var f = a, h = !1;
                    if (!o.isEmpty(y.total_record) && a * s >= y.total_record) {
                        if (i == o.const.COLLECTION_TYPE.readmore) {
                            var v = _.getElementsByClassName("ladi-collection-button-next")[0];
                            o.isEmpty(v) || v.setAttribute("data-opacity", "0")
                        }
                        _.setAttribute("data-max-page", f), h = !0
                    }
                    if (_.setAttribute("data-page", a > f ? f : a), f < a) return;
                    var E = _.getElementsByClassName("ladi-collection-item");
                    if (0 == E.length) return;
                    var L = _.getElementsByClassName("ladi-collection-content")[0],
                        P = {className: E[0].className, innerHTML: E[0].innerHTML};
                    n && E[0].parentElement.removeChild(E[0]);
                    for (var A = L.getElementsByClassName("ladi-collection-page"); A.length < a;) {
                        var S = document.createElement("div");
                        S.className = "ladi-collection-page", L.appendChild(S)
                    }
                    var w = A[a - 1], b = w.getElementsByClassName("ladi-collection-item");
                    if (b.length != y.products.length) for (; b.length > 0;) b[0].parentElement.removeChild(b[0]);
                    for (var C = 0; C < y.products.length; C++) if (!(b.length > C)) {
                        var T = document.createElement("div");
                        T.className = P.className, w.appendChild(T), T.innerHTML = P.innerHTML;
                        for (var N = T.getElementsByClassName("ladi-element"), I = 0; I < N.length; I++) {
                            var x = o.runtime.eventData[N[I].id];
                            o.isEmpty(x) || (o.isFunction(o.runtime.tmp.runOptionAction) && o.runtime.tmp.runOptionAction(N[I], N[I].id, x.type, x["option.data_action"]), o.isEmpty(x["option.setting_product_key"]) || u(N[I], x, r, x["option.setting_product_type"], y.products[C].product_id, x["option.setting_product_key"]))
                        }
                    }
                    h && w.classList.add("last"), i == o.const.COLLECTION_TYPE.carousel && m(e), i == o.const.COLLECTION_TYPE.readmore && p(e), o.runResizeAll()
                }
            };
        if (r) return l["option.collection_setting.type"] == o.const.COLLECTION_TYPE.readmore && p(e), void (l["option.collection_setting.type"] == o.const.COLLECTION_TYPE.carousel && m(e));
        var y = l["option.ladisale_store_id"], _ = l["option.product_tag_id"];
        o.isArray(_) && g(e, y, _)
    }
}, LadiPageScriptV2.prototype.reloadFeeShipping = function () {
    var t = this;
    t instanceof LadiPageScriptV2 || (t = LadiPageScript), t.isEmpty(t.runtime.tmp.timeout_reload_fee_shipping) || t.removeTimeout(t.runtime.tmp.timeout_reload_fee_shipping);
    var e = function (e) {
        t.runtime.tmp.add_to_cart_fee_shipping = e, t.changeTotalPriceCart()
    };
    t.runtime.tmp.timeout_reload_fee_shipping = t.runTimeout(function () {
        var i = t.getCookie("_cart_token"), a = t.getCookie("_checkout_token");
        if (t.isEmpty(i) || t.isEmpty(a)) e(0); else {
            var n = document.getElementsByClassName("ladi-checkout")[0];
            if (t.isEmpty(n)) e(0); else {
                var r = null, o = n.querySelector('.ladi-form-item select[name="state"]'),
                    l = n.querySelector('.ladi-form-item select[name="district"]');
                if (t.isEmpty(o) || t.isEmpty(l)) e(0); else {
                    var s = o.value, c = l.value;
                    if (t.isEmpty(s) || t.isEmpty(c)) return void e(0);
                    (r = {
                        state_id: s.split(":")[0],
                        district_id: c.split(":")[0]
                    }).state_id = parseInt(r.state_id) || r.state_id, r.district_id = parseInt(r.district_id) || r.district_id
                }
            }
        }
    }, 1e3)
}, LadiPageScriptV2.prototype.reloadPriceDiscount = function (t) {
    var e = this;
    if (e instanceof LadiPageScriptV2 || (e = LadiPageScript), !(e.runtime.tmp.is_click_check_price_discount || e.isEmpty(t) && e.isEmpty(e.runtime.tmp.current_use_coupon))) {
        e.isEmpty(e.runtime.tmp.timeout_reload_price_discount) || e.removeTimeout(e.runtime.tmp.timeout_reload_price_discount);
        var i = function (t) {
            e.runtime.tmp.add_to_cart_total_discount = t, e.runtime.tmp.is_click_check_price_discount = !1, e.changeTotalPriceCart()
        };
        e.runtime.tmp.timeout_reload_price_discount = e.runTimeout(function () {
            var a = e.getCookie("_cart_token"), n = e.getCookie("_checkout_token");
            if (e.isEmpty(a) || e.isEmpty(n)) i(0); else {
                var r = e.isEmpty(t) ? document.getElementsByClassName("ladi-checkout")[0] : e.findAncestor(t.target, "ladi-checkout");
                if (e.isEmpty(r)) i(0); else {
                    var o = {"Content-Type": "application/json", "cart-token": a}, l = null,
                        s = r.querySelector('.ladi-form-item input[name="email"]'),
                        c = r.querySelector('.ladi-form-item input[name="coupon"]');
                    if (e.isEmpty(s) || e.isEmpty(c)) i(0); else {
                        var d = s.value, u = c.value;
                        if (e.isEmpty(u)) return void i(0);
                        if (e.isEmpty(t) && u != e.runtime.tmp.current_use_coupon) return void i(0);
                        l = {
                            discount_code: u,
                            email: d
                        }, e.runtime.tmp.is_click_check_price_discount = !0, e.runtime.tmp.current_use_coupon = null, e.sendRequest("POST", e.const.API_LADISALE_VALIDATE_DISCOUNT.format(n), JSON.stringify(l), !0, o, function (a, n, r) {
                            if (r.readyState == XMLHttpRequest.DONE) {
                                if (200 == n) try {
                                    var o = JSON.parse(a);
                                    if (200 == o.code) return e.isEmpty(o.data.discount_error) ? e.runtime.tmp.current_use_coupon = u : e.isEmpty(t) || e.showMessage(o.data.discount_error), void i(o.data.discount_price)
                                } catch (t) {
                                }
                                i(0)
                            }
                        })
                    }
                }
            }
        }, e.isEmpty(t) ? 1e3 : 0)
    }
}, LadiPageScriptV2.prototype.addCartCookie = function (t, e, i, a, n) {
    var r = this.getCookie("_cart_token"), o = {"Content-Type": "application/json", "store-id": t};
    this.isEmpty(r) || (o["cart-token"] = r);
    var l = this;
    this.sendRequest("POST", this.const.API_LADISALE_ADD, JSON.stringify(e), !0, o, function (t, e, r) {
        if (r.readyState == XMLHttpRequest.DONE) {
            if (200 == e) try {
                var o = JSON.parse(t);
                if (200 == o.code) return l.setCookie(null, "_cart_token", o.data.cart_token, 30, !1, window.location.pathname), l.setCookie(null, "_checkout_token", o.data.checkout_token, 30, !1, window.location.pathname), l.isFunction(i) && i(), l.isFunction(n) && n(), l.reloadPriceDiscount(), void l.reloadFeeShipping()
            } catch (t) {
            }
            l.isFunction(a) && a(), l.isFunction(n) && n()
        }
    })
}, LadiPageScriptV2.prototype.updateCartCookie = function (t, e, i, a) {
    var n = this.getCookie("_cart_token"), r = {"Content-Type": "application/json"};
    this.isEmpty(n) || (r["cart-token"] = n);
    var o = this;
    this.sendRequest("POST", this.const.API_LADISALE_UPDATE, JSON.stringify(t), !0, r, function (t, n, r) {
        if (r.readyState == XMLHttpRequest.DONE) {
            if (200 == n) try {
                if (200 == JSON.parse(t).code) return o.isFunction(e) && e(), o.isFunction(a) && a(), o.reloadPriceDiscount(), void o.reloadFeeShipping()
            } catch (t) {
            }
            o.isFunction(i) && i(), o.isFunction(a) && a()
        }
    })
}, LadiPageScriptV2.prototype.createCartData = function () {
    this.runtime.tmp.cart = [], this.runtime.tmp.add_to_cart_total_discount = 0, this.runtime.tmp.add_to_cart_fee_shipping = 0;
    var t = this, e = function () {
        t.runtime.tmp.generateCart(), t.changeTotalPriceCart(), t.runResizeAll()
    }, i = this.getCookie("_cart_token"), a = {"Content-Type": "application/json"};
    if (!this.isEmpty(i)) return a["cart-token"] = i, void this.sendRequest("GET", this.const.API_LADISALE_SHOW, null, !0, a, function (i, a, n) {
        if (n.readyState == XMLHttpRequest.DONE) {
            if (200 == a) try {
                var r = JSON.parse(i);
                200 == r.code && r.data.items.forEach(function (e) {
                    var i = t.isEmpty(e.src) ? "" : e.src;
                    t.isEmpty(i) || (i = "https://" + t.const.STATIC_W_DOMAIN + "/" + i), -1 == t.runtime.tmp.cart.findIndex(function (t) {
                        return t.store_id == e.store_id && t.product_id == e.product_id && t.product_variant_id == e.product_variant_id
                    }) && t.runtime.tmp.cart.push({
                        store_id: e.store_id,
                        product_id: e.product_id,
                        product_variant_id: e.product_variant_id,
                        name: e.product_name,
                        title: e.option_name,
                        price: e.price,
                        image: i,
                        quantity: e.quantity,
                        inventory_checked: e.inventory_checked,
                        available_quantity: e.available_quantity,
                        currency: r.data.store_info.currency
                    })
                })
            } catch (t) {
            }
            e()
        }
    });
    e()
}, LadiPageScriptV2.prototype.changeTotalPriceCart = function () {
    var t = 0, e = 0;
    this.runtime.tmp.cart.forEach(function (i) {
        t += i.price * i.quantity, e += i.quantity
    }), t = t < 0 ? 0 : t;
    var i = this.runtime.tmp.add_to_cart_fee_shipping || 0, a = this.runtime.tmp.add_to_cart_total_discount || 0,
        n = t + i - a;
    n = n < 0 ? 0 : n;
    var r = this.formatNumber(t, 3), o = this.formatNumber(n, 3), l = this.formatNumber(i, 3),
        s = this.formatNumber(a, 3);
    if (this.runtime.tmp.cart.length > 0 && !this.isEmpty(this.runtime.tmp.cart[0].currency) && !this.isEmpty(this.runtime.tmp.cart[0].currency.symbol)) {
        var c = this.runtime.tmp.cart[0].currency.symbol;
        r = this.formatCurrency(t, c, !0), o = this.formatCurrency(n, c, !0), l = this.formatCurrency(i, c, !0), s = this.formatCurrency(a, c, !0)
    }
    this.setDataReplaceStr("cart_total_price", r), this.setDataReplaceStr("cart_total_checkout_price", o), this.setDataReplaceStr("cart_fee_shipping", l), this.setDataReplaceStr("cart_total_discount", s), this.setDataReplaceStr("cart_total_quantity", e), this.setDataReplaceElement(!1)
}, LadiPageScriptV2.prototype.removeAddToCartProduct = function (t) {
    var e = this.runtime.tmp.cart.findIndex(function (e) {
        return e.product_variant_id == t
    }), i = this;
    -1 != e && this.updateCartCookie({type: "LP", product_variant_id: t, quantity: 0}, function () {
        i.runtime.tmp.cart.splice(e, 1), i.runtime.tmp.generateCart(), i.changeTotalPriceCart(), 0 == i.runtime.tmp.cart.length && (i.deleteCookie("_cart_token"), i.deleteCookie("_checkout_token")), i.runResizeAll()
    })
}, LadiPageScriptV2.prototype.buttonAddToCartProductQuantity = function (t, e) {
    if (0 != this.runtime.tmp.cart.length) {
        var i = this.findAncestor(t, "ladi-cart-quantity");
        if (!this.isEmpty(i)) {
            var a = i.querySelector("input");
            if (!this.isEmpty(a)) {
                var n = parseInt(a.value) || 0;
                a.value = n + e < a.getAttribute("min") ? a.getAttribute("min") : n + e, a.value != n && a.dispatchEvent(new Event("input"))
            }
        }
    }
}, LadiPageScriptV2.prototype.changeAddToCartProductQuantity = function (t, e, i) {
    var a = this.runtime.tmp.cart.findIndex(function (t) {
        return t.product_variant_id == e
    }), n = this;
    if (-1 != a) {
        var r = this.runtime.tmp.cart[a].quantity;
        if (this.isEmpty(t.value)) i && (t.value = 1), this.runtime.tmp.cart[a].quantity = 1; else {
            var o = parseInt(t.value) || 0;
            if (1 == this.runtime.tmp.cart[a].inventory_checked) {
                var l = this.runtime.tmp.cart[a].available_quantity;
                o > l && (o = l), o <= 0 && (o = 0, l > 0 && (o = 1))
            } else o = o <= 0 ? 1 : o;
            this.runtime.tmp.cart[a].quantity = o, t.value = o
        }
        var s = this.runtime.tmp.cart[a].quantity;
        if (r == s) return void (t.value = r);
        this.updateCartCookie({
            type: "LP",
            product_variant_id: this.runtime.tmp.cart[a].product_variant_id,
            quantity: s
        }, null, function () {
            n.runtime.tmp.cart[a].quantity -= s - r
        }, function () {
            n.changeTotalPriceCart();
            var i = n.runtime.tmp.cart[a].price * n.runtime.tmp.cart[a].quantity, r = n.formatNumber(i, 3);
            n.isObject(n.runtime.tmp.cart[a].currency) && !n.isEmpty(n.runtime.tmp.cart[a].currency.symbol) && (r = n.formatCurrency(i, n.runtime.tmp.cart[a].currency.symbol, !0));
            for (var o = document.querySelectorAll('.ladi-cart-price [data-product-variant-id="' + e + '"]'), l = 0; l < o.length; l++) if (o[l].getAttribute("data-store-id") == n.runtime.tmp.cart[a].store_id && o[l].getAttribute("data-product-id") == n.runtime.tmp.cart[a].product_id) {
                o[l].innerHTML = r;
                var s = n.findAncestor(o[l], "ladi-cart-row");
                if (!n.isEmpty(s)) {
                    var c = n.findAncestor(t, "ladi-element"), d = n.findAncestor(s, "ladi-element");
                    if (!n.isEmpty(c) && !n.isEmpty(d) && c.id == d.id) continue;
                    var u = s.querySelector(".ladi-cart-image-quantity");
                    n.isEmpty(u) || (u.innerHTML = n.runtime.tmp.cart[a].quantity);
                    var p = s.querySelector(".ladi-cart-quantity input");
                    n.isEmpty(p) || (p.value = n.runtime.tmp.cart[a].quantity)
                }
            }
        })
    }
}, LadiPageScriptV2.prototype.generateCart = function (t, e, i) {
    var a = this, n = [];
    n = i ? a.runtime.tmp.cart : [{
        store_id: 0,
        product_id: 0,
        product_variant_id: 0,
        name: "Product Name",
        title: "Product Variant",
        price: 9999,
        image: LadiPage.getRootScope().logoUrlColor,
        quantity: 1,
        inventory_checked: 0,
        available_quantity: 999,
        currency: {symbol: LadiPage.getRootScope().getStoreCurrency()}
    }];
    var r = "";
    if (r += "<tbody>", 0 == n.length) r += '<tr><td class="ladi-cart-no-product">' + e + "</td></tr>"; else {
        n.forEach(function (e) {
            var n = a.getOptimizeImage(e.image, 60, 60, !0, !1, !0, i);
            r += '<tr class="ladi-cart-row"><td class="ladi-cart-image"><img src="' + n + '" />', t == a.const.CART_LAYOUT.viewonly && (r += '<span class="ladi-cart-image-quantity">' + e.quantity + "</span>"), r += "</td>", r += '<td class="ladi-cart-title"><span class="ladi-cart-title-name">' + e.name + '</span><span class="ladi-cart-title-variant">' + e.title + "</span></td>", t == a.const.CART_LAYOUT.editable && (r += '<td class="ladi-cart-quantity"><div class="ladi-cart-quantity-content"><button onclick="javascript: LadiPageScript.buttonAddToCartProductQuantity(this, -1);" type="button"><span>-</span></button><input' + (i ? "" : " disabled") + ' type="number" min="1" value="' + e.quantity + '" oninput="javascript: LadiPageScript.changeAddToCartProductQuantity(this, ' + e.product_variant_id + ', true);" /><button onclick="javascript: LadiPageScript.buttonAddToCartProductQuantity(this, 1);" type="button"><span>+</span></button></div></td>'), r += '<td class="ladi-cart-price"><span data-store-id="' + e.store_id + '" data-product-id="' + e.product_id + '" data-product-variant-id="' + e.product_variant_id + '">';
            var o = e.price * e.quantity, l = a.formatNumber(o, 3);
            a.isObject(e.currency) && !a.isEmpty(e.currency.symbol) && (l = a.formatCurrency(o, e.currency.symbol, !0)), r += l + "</span></td>", t == a.const.CART_LAYOUT.editable && (r += '<td class="ladi-cart-action"><button onclick="javascript: LadiPageScript.removeAddToCartProduct(' + e.product_variant_id + ');" type="button"><span>X</span></button></td>', r += "</tr>")
        })
    }
    return r += "</tbody>"
}, LadiPageScriptV2.prototype.getProductVariantIndex = function (t, e, i, a) {
    var n = this, r = -1, o = n.generateVariantProduct(e, i, !1, a, null, null, null, null, !0, !0);
    if (!(n.isObject(o) && n.isObject(o.store_info) && n.isObject(o.product) && n.isArray(o.product.variants))) return r;
    this.runtime.isClient ? Object.keys(this.runtime.eventData).forEach(function (l) {
        if ((n.isEmpty(t) || t == l) && -1 == r) {
            var s = n.runtime.eventData[l];
            if ("form" == s.type && s["option.is_add_to_cart"] && s["option.setting_product_type"] == e && s["option.setting_product"] == i && s["option.ladisale_store_id"] == a) {
                var c = document.getElementById(l);
                if (!n.isEmpty(c)) {
                    var d = c.querySelector('[data-variant="true"]');
                    if (!n.isEmpty(d)) {
                        var u = n.runtime.eventData[d.id];
                        if (!n.isEmpty(u)) {
                            if (u["option.input_setting_product_variant_type"] == n.const.SETTING_PRODUCT_VARIANT_TYPE.combobox) {
                                var p = d.querySelectorAll(".ladi-form-item [data-product-variant-id]");
                                r = o.product.variants.findIndex(function (t) {
                                    for (var e = !0, i = null, a = function (t) {
                                        return t == i
                                    }, n = 0; n < p.length; n++) if (p[n].getAttribute("data-store-id") == o.store_info.id && p[n].getAttribute("data-product-id") == t.product_id) {
                                        i = p[n].getAttribute("data-product-variant-id");
                                        var r = p[n].value, l = t.option_ids.split("/").findIndex(a);
                                        if (-1 != l && t["option" + (l + 1)] != r) {
                                            e = !1;
                                            break
                                        }
                                    }
                                    return e
                                })
                            }
                            if (u["option.input_setting_product_variant_type"] == n.const.SETTING_PRODUCT_VARIANT_TYPE.combined) {
                                var m = d.querySelector(".ladi-form-control");
                                if (m.getAttribute("data-store-id") != o.store_info.id || m.getAttribute("data-product-id") != o.product.product_id) return;
                                r = m.value, r = n.isEmpty(r) ? -1 : parseInt(r)
                            }
                        }
                    }
                }
            }
        }
    }) : r = LadiPage.getProductVariantIndex(t, e, o, i, a);
    return r
}, LadiPageScriptV2.prototype.generateProductKey = function (t, e, i, a, n, r, o, l) {
    var s = this, c = s.generateVariantProduct(i, a, !1, n, null, null, null, null, !0, !0, function (e) {
        s.generateProductKey(t, !1, i, a, n, r, o, l)
    });
    if (s.isObject(c) && s.isObject(c.product)) {
        var d = null;
        if (-1 != ["name", "description"].indexOf(r) && (d = c.product[r], t = d), -1 != ["image"].indexOf(r) && (d = c.product[r], s.isObject(d) && (t = d.src, s.isEmpty(t) || (t = "https://" + s.const.STATIC_W_DOMAIN + "/" + t))), -1 != ["images"].indexOf(r) && (d = c.product[r], s.isArray(d) && (t = [], d.forEach(function (e) {
            s.isEmpty(e.src) || t.push({src: "https://" + s.const.STATIC_W_DOMAIN + "/" + e.src})
        }))), s.isArray(c.product.variants) && c.product.variants.length > 0) {
            var u = o ? 0 : s.getProductVariantIndex(null, i, a, n);
            if (-1 != u) {
                var p = c.product.variants[u];
                if (-1 != ["title", "sku"].indexOf(r) && (d = p[r], t = d), -1 != ["text_quantity"].indexOf(r) && (d = 1 == p.inventory_checked ? p[r] : "", t = d), -1 != ["weight"].indexOf(r) && (d = p[r], s.isEmpty(p.weight_unit) || (d += p.weight_unit), t = d), -1 != ["price"].indexOf(r) && (d = s.formatNumber(p[r], 3), s.isObject(c.store_info) && s.isObject(c.store_info.currency) && !s.isEmpty(c.store_info.currency.symbol) && (d = s.formatCurrency(p[r], c.store_info.currency.symbol, !0)), t = d), -1 != ["src"].indexOf(r)) {
                    if (d = p[r], s.isEmpty(d)) {
                        if ("src" == r) return s.generateProductKey(t, e, i, a, n, "image", !1, l)
                    } else d = "https://" + s.const.STATIC_W_DOMAIN + "/" + d;
                    t = d
                }
            }
        }
        !e && s.isFunction(l) && l(t)
    }
    return t
}, LadiPageScriptV2.prototype.generateVariantProduct = function (t, e, i, a, n, r, o, l, s, c, d) {
    var u = i ? "" : null, p = this, m = null, g = null;
    if (t == p.const.FORM_CONFIG_TYPE.ladisales) {
        if (!p.isEmpty(e) && !p.isEmpty(a)) {
            if (p.isEmpty(p.runtime.tmp.product_info[a]) && (p.runtime.tmp.product_info[a] = {}), p.isEmpty(p.runtime.tmp.timeout_product_info[a]) && (p.runtime.tmp.timeout_product_info[a] = {}), e = parseInt(e) || e, m = p.runtime.tmp.product_info[a][e], g = function () {
                if (!i) return p.isObject(m) ? m : null;
                var t = "";
                if (p.isObject(m)) {
                    if (!p.isObject(m.product)) return t;
                    n == p.const.SETTING_PRODUCT_VARIANT_TYPE.combined && (t += '<div class="ladi-form-item-container"><div class="ladi-form-item-background"></div><div class="ladi-form-item"><select data-store-id="' + m.store_info.id + '" data-product-id="' + m.product.product_id + '" required tabindex="' + l + '" class="ladi-form-control ladi-form-control-select" data-selected=""' + (s ? "" : ' onmousedown="javascript: event.preventDefault();"') + ">", p.isArray(m.product.variants) && m.product.variants.forEach(function (e, i) {
                        var a = e.title;
                        if (o) {
                            var n = p.formatNumber(e.price, 3);
                            p.isObject(m.store_info) && p.isObject(m.store_info.currency) && !p.isEmpty(m.store_info.currency.symbol) && (n = p.formatCurrency(e.price, m.store_info.currency.symbol, !0)), a += " - " + n
                        }
                        t += '<option value="' + i + '">' + a + "</option>"
                    }), t += "</select></div></div>"), n == p.const.SETTING_PRODUCT_VARIANT_TYPE.combobox && p.isArray(m.product.options) && m.product.options.forEach(function (e) {
                        0 != e.values.length && (t += '<div class="ladi-form-item-box">', p.isEmpty(r) || (t += '<div class="ladi-form-item-title"><span>' + e.name + "</span></div>"), t += '<div class="ladi-form-item-container"><div class="ladi-form-item-background"></div><div class="ladi-form-item"><select data-store-id="' + m.store_info.id + '" data-product-id="' + e.product_id + '" data-product-variant-id="' + e.product_option_id + '" required tabindex="' + l + '" class="ladi-form-control ladi-form-control-select" data-selected=""' + (s ? "" : ' onmousedown="javascript: event.preventDefault();"') + ">", e.values.forEach(function (e) {
                            t += '<option value="' + e.name + '">' + e.name + "</option>"
                        }), t += "</select></div></div></div>")
                    })
                }
                return t
            }, p.isNull(m)) {
                p.runtime.tmp.product_info[a][e] = !0;
                var y = {product_id: e};
                return p.sendRequest("POST", p.const.API_SHOW_PRODUCT, JSON.stringify(y), !0, {
                    "Content-Type": "application/json",
                    "Store-Id": a
                }, function (t, i, n) {
                    if (n.readyState == XMLHttpRequest.DONE) try {
                        if (p.isObject(p.runtime.tmp.product_info[a][e])) m = p.runtime.tmp.product_info[a][e]; else {
                            var r = JSON.parse(t);
                            m = r.data
                        }
                        p.isObject(m) ? (p.runtime.tmp.product_info[a][e] = m, u = g(), p.isFunction(d) && d(u)) : (p.runtime.tmp.product_info[a][e] = !1, p.isEmpty(p.runtime.tmp.timeout_product_info[a][e]) || (p.removeTimeout(p.runtime.tmp.timeout_product_info[a][e]), delete p.runtime.tmp.timeout_product_info[a][e]))
                    } catch (t) {
                        p.runtime.tmp.product_info[a][e] = !1, p.isEmpty(p.runtime.tmp.timeout_product_info[a][e]) || (p.removeTimeout(p.runtime.tmp.timeout_product_info[a][e]), delete p.runtime.tmp.timeout_product_info[a][e])
                    }
                }), u
            }
            !0 === m ? p.runtime.tmp.timeout_product_info[a][e] = p.runTimeout(function () {
                p.generateVariantProduct(t, e, i, a, n, r, o, l, s, !1, d)
            }, 100) : (u = g(), !c && p.isFunction(d) && d(u))
        }
    } else if (!p.isEmpty(t) && !p.isEmpty(e) && !p.isEmpty(t)) {
        if (p.isEmpty(p.runtime.tmp.product_info[t]) && (p.runtime.tmp.product_info[t] = {}), p.isEmpty(p.runtime.tmp.timeout_product_info[t]) && (p.runtime.tmp.timeout_product_info[t] = {}), e = parseInt(e) || e, m = p.runtime.tmp.product_info[t][e], g = function () {
        }, p.isNull(m)) return p.runtime.tmp.product_info[t][e] = !0, u;
        !0 === m ? p.runtime.tmp.timeout_product_info[t][e] = p.runTimeout(function () {
            p.generateVariantProduct(t, e, i, a, n, r, o, l, s, !1, d)
        }, 100) : (u = g(), !c && p.isFunction(d) && d(u))
    }
    return u
}, LadiPageScriptV2.prototype.getListProductByTagId = function (t, e, i, a, n, r, o, l) {
    var s = this, c = null;
    if (s.isArray(a) && a.length > 0 && !s.isEmpty(e)) {
        s.isEmpty(s.runtime.tmp.product_tag_info[t]) && (s.runtime.tmp.product_tag_info[t] = {}), s.isEmpty(s.runtime.tmp.timeout_product_tag_info[t]) && (s.runtime.tmp.timeout_product_tag_info[t] = {}), a.sort();
        var d = JSON.stringify(a) + "_page_" + r + "_limit_" + n, u = s.runtime.tmp.product_tag_info[t][d],
            p = function () {
                var t = null;
                return s.isObject(u) && s.isArray(u.products) && (t = {
                    products: u.products,
                    total_record: u.total_record
                }, s.isEmpty(s.runtime.tmp.product_info[e]) && (s.runtime.tmp.product_info[e] = {}), t.products.forEach(function (t) {
                    s.runtime.tmp.product_info[e][t.product_id] = {store_info: u.store_info, product: t}
                })), t
            };
        if (s.isNull(u)) {
            s.runtime.tmp.product_tag_info[t][d] = !0;
            var m = {product_tag_ids: a, limit: n};
            return s.isEmpty(i) ? m.type = "group" : m.paged = r, s.sendRequest("POST", s.const.API_COLLECTION_PRODUCT, JSON.stringify(m), !0, {
                "Content-Type": "application/json",
                "Store-Id": e
            }, function (e, i, a) {
                if (a.readyState == XMLHttpRequest.DONE) try {
                    var n = JSON.parse(e);
                    u = n.data, s.isObject(u) ? (s.runtime.tmp.product_tag_info[t][d] = u, c = p(), s.isFunction(l) && l(c)) : (s.runtime.tmp.product_tag_info[t][d] = !1, s.isEmpty(s.runtime.tmp.timeout_product_tag_info[t][d]) || (s.removeTimeout(s.runtime.tmp.timeout_product_tag_info[t][d]), delete s.runtime.tmp.timeout_product_tag_info[t][d]))
                } catch (e) {
                    s.runtime.tmp.product_tag_info[t][d] = !1, s.isEmpty(s.runtime.tmp.timeout_product_tag_info[t][d]) || (s.removeTimeout(s.runtime.tmp.timeout_product_tag_info[t][d]), delete s.runtime.tmp.timeout_product_tag_info[t][d])
                }
            }), c
        }
        !0 === u ? s.runtime.tmp.timeout_product_tag_info[t][d] = s.runTimeout(function () {
            s.getListProductByTagId(t, e, i, a, n, r, !1, l)
        }, 100) : (c = p(), !o && s.isFunction(l) && l(c))
    }
    return c
}, LadiPageScriptV2.prototype.formatCurrency = function (t, e, i, a) {
    var n = {VND: "{0}đ", USD: "${0}", EUR: "€{0}", GBP: "₤{0}", CNY: "¥{0}", MYR: "RM{0}", THB: "฿{0}", IDR: "Rp {0}"};
    if (a) return this.isEmpty(n[e]) ? e : n[e].format("").trim();
    var r = this.formatNumber(t, 3, null, {VND: 0, USD: 2, EUR: 2, GBP: 2, CNY: 0, MYR: 0, THB: 0, IDR: 0}[e] || 0);
    return i && (r = this.isEmpty(n[e]) ? r + " " + e : n[e].format(r)), r
}, LadiPageScriptV2.prototype.formatNumber = function (t, e, i, a) {
    if (void 0 != t) {
        void 0 == i && (i = 0), void 0 == a && (a = 0);
        var n = "\\d(?=(\\d{" + (e || 3) + "})+" + (a > 0 ? "\\." : "$") + ")";
        t = t.toFixed(Math.max(0, ~~a)).replace(new RegExp(n, "g"), "$&,");
        var r = null, o = null;
        i >= 1 && (o = (r = t.split("."))[0], t = o = new Array(i - o.length + 1).join("0") + o, 2 == r.length && (t += "." + r[1])), a >= 1 && 2 == (r = t.split(".")).length && (o = r[1], o = new Array(a - o.length + 1).join("0") + o, t = r[0] + "." + o)
    }
    return t
}, LadiPageScriptV2.prototype.setDataReplaceStr = function (t, e) {
    this.runtime.replaceStr[t] = e
}, LadiPageScriptV2.prototype.getDataReplaceStr = function (t, e) {
    var i = null;
    return this.isNull(e) || (i = e[t]), this.isNull(i) && (i = this.runtime.replaceStr[t]), i
}, LadiPageScriptV2.prototype.highlightText = function (t, e, i, a) {
    if (!this.isEmpty(t) && 0 != e.length) {
        var n = i ? "gi" : "g", r = [];
        e.forEach(function (t) {
            r.push(t.replaceAll("|", "\\|"))
        }), r.sort(function (t, e) {
            return e.length - t.length
        });
        var o = this;
        Array.from(t.childNodes).forEach(function (t) {
            var l = new RegExp(r.join("|"), n);
            if (3 !== t.nodeType) o.highlightText(t, e, i, a); else if (l.test(t.textContent)) {
                var s = document.createDocumentFragment(), c = 0;
                t.textContent.replace(l, function (e, i) {
                    var n = document.createTextNode(t.textContent.slice(c, i)), r = null;
                    o.isFunction(a) ? r = a(e) : (r = document.createElement("span")).textContent = e, s.appendChild(n), s.appendChild(r), c = i + e.length
                });
                var d = document.createTextNode(t.textContent.slice(c));
                s.appendChild(d), t.parentNode.replaceChild(s, t)
            }
        })
    }
}, LadiPageScriptV2.prototype.convertDataReplaceStr = function (t, e, i, a, n) {
    for (var r = this, o = t, l = new RegExp(r.runtime.replacePrefixStart + "[^" + r.runtime.replacePrefixStart + "$" + r.runtime.replacePrefixEnd + "]*" + r.runtime.replacePrefixEnd, "gi"), s = null, c = [], d = function (t) {
        if (a) c.push(t); else {
            var i = t, l = i.split("|");
            i = l[0].substr(r.runtime.replacePrefixStart.length), 1 == l.length && (i = i.substr(0, i.length - r.runtime.replacePrefixEnd.length));
            var s = r.getDataReplaceStr(i, n);
            if (r.isEmpty(s)) if (l.length > 1) {
                var d = r.randomInt(1, l.length - 1);
                s = l[d], d == l.length - 1 && (s = s.substr(0, s.length - r.runtime.replacePrefixEnd.length))
            } else s = "";
            e && (s = encodeURIComponent(s)), o = o.replaceAll(t, s)
        }
    }; null !== (s = l.exec(t));) s.index === l.lastIndex && l.lastIndex++, s.forEach(d);
    return c = c.unique(), r.highlightText(i, c, !0, function (t) {
        var e = document.createElement("span");
        return e.setAttribute("data-replace-str", t), e
    }), o
}, LadiPageScriptV2.prototype.setDataReplaceElement = function (t, e, i, a, n) {
    for (var r = this.isEmpty(a) ? document : document.getElementById(a), o = r.querySelectorAll("span[data-replace-str]"), l = 0; l < o.length; l++) {
        var s = o[l].getAttribute("data-replace-str");
        o[l].innerHTML = this.convertDataReplaceStr(s, !1, null, !1, i)
    }
    for (var c = r.querySelectorAll("a[data-replace-href]"), d = 0; d < c.length; d++) {
        var u = c[d].getAttribute("data-replace-href");
        u = this.convertDataReplaceStr(u, !0, null, !1, i), c[d].href = u
    }
    if (t) for (var p = r.querySelectorAll(".ladi-element .ladi-form-item-container [name]"), m = 0; m < p.length; m++) {
        var g = p[m].getAttribute("name").trim();
        if (-1 != n.indexOf(g)) {
            var y = this.getDataReplaceStr(g, i);
            if (!this.isNull(y) && ("country" != g || "true" != p[m].getAttribute("data-is-select-country"))) {
                var _ = this.isArray(y) ? y[0] : y;
                if ("INPUT" == p[m].tagName) {
                    var f = p[m].getAttribute("type").trim();
                    if ("checkbox" == f || "radio" == f) {
                        var h = !1;
                        if ("checkbox" == f) {
                            var v = y;
                            this.isArray(v) || (v = [v]), h = -1 != v.indexOf(p[m].getAttribute("value"))
                        }
                        "radio" == f && (h = p[m].getAttribute("value") == _.trim()), h ? (p[m].checked = !0, e && p[m].setAttribute("checked", "checked")) : (p[m].checked = !1, e && p[m].removeAttribute("checked"));
                        var E = this.findAncestor(p[m], "ladi-form-checkbox-item");
                        if (!this.isEmpty(E)) {
                            var L = E.querySelector("span");
                            this.isEmpty(L) || L.setAttribute("data-checked", p[m].checked)
                        }
                    } else p[m].value = _.trim(), e && p[m].setAttribute("value", p[m].value)
                }
                if ("TEXTAREA" == p[m].tagName && (p[m].value = _.trim(), e && (p[m].innerHTML = p[m].value)), "SELECT" == p[m].tagName) {
                    var P = p[m].querySelector('option[value="' + _.trim() + '"]');
                    if (!this.isEmpty(P) && (p[m].value = P.getAttribute("value"), e && !P.hasAttribute("selected"))) {
                        for (var A = p[m].querySelectorAll("option"), S = 0; S < A.length; S++) A[S].removeAttribute("selected");
                        P.setAttribute("selected", "selected")
                    }
                }
            }
        }
    }
}, LadiPageScriptV2.prototype.setDataReplaceStart = function () {
    for (var t = document.querySelectorAll(".ladi-headline, .ladi-paragraph, .ladi-list-paragraph ul"), e = 0; e < t.length; e++) this.convertDataReplaceStr(t[e].innerHTML, !1, t[e], !0);
    this.setDataReplaceElement(!0, !0, null, null, Object.keys(this.runtime.replaceStr))
}, LadiPageScriptV2.prototype.showMessage = function (t, e, i) {
    if (this.isEmpty(t)) this.isFunction(i) && i(); else {
        var a = document.getElementsByClassName("ladipage-message")[0];
        if (this.isEmpty(a)) {
            var n = this;
            t = n.convertDataReplaceStr(t, !1, null, !1, e), (a = document.createElement("div")).className = "ladipage-message", document.body.appendChild(a);
            var r = document.createElement("div");
            r.className = "ladipage-message-box", a.appendChild(r);
            var o = document.createElement("h1");
            r.appendChild(o), o.textContent = this.const.LANG.ALERT_TITLE;
            var l = document.createElement("div");
            l.className = "ladipage-message-text", r.appendChild(l), l.innerHTML = t;
            var s = document.createElement("button");
            s.className = "ladipage-message-close", r.appendChild(s), s.textContent = this.const.LANG.ALERT_BUTTON_TEXT, s.focus(), s.addEventListener("click", function (t) {
                t.stopPropagation(), a.parentElement.removeChild(a), n.isFunction(i) && i()
            })
        } else this.isFunction(i) && i()
    }
}, LadiPageScriptV2.prototype.findAncestor = function (t, e) {
    if (this.isNull(t) || this.isNull(t.classList) || !t.classList.contains(e)) for (; (t = t.parentElement) && !t.classList.contains(e);) ;
    return t
}, LadiPageScriptV2.prototype.createStyleElement = function (t, e) {
    var i = document.getElementById(t);
    return this.isEmpty(i) && ((i = document.createElement("style")).id = t, i.type = "text/css", document.head.appendChild(i)), i.innerHTML != e && (i.innerHTML = e), i
}, LadiPageScriptV2.prototype.createTmpElement = function (t, e, i, a, n) {
    var r = document.createElement(t);
    this.isEmpty(i) || Object.keys(i).forEach(function (t) {
        r.setAttribute(t, i[t])
    });
    var o = document.createElement("div");
    return o.appendChild(r), a ? r.outerHTML = e : r.innerHTML = e, n ? o : o.firstChild
}, LadiPageScriptV2.prototype.getCountdownTime = function (t, e) {
    var i = Math.floor(t / 1e3), a = i % 86400, n = a % 3600, r = Math.floor(i / 86400), o = Math.floor(a / 3600),
        l = Math.floor(n / 60), s = n % 60;
    r = r < 0 ? 0 : r, o = o < 0 ? 0 : o, l = l < 0 ? 0 : l, s = s < 0 ? 0 : s, r = r < 10 ? "0" + r : r, o = o < 10 ? "0" + o : o, l = l < 10 ? "0" + l : l, s = s < 10 ? "0" + s : s;
    var c = {};
    return c[this.const.COUNTDOWN_ITEM_TYPE.day] = r, c[this.const.COUNTDOWN_ITEM_TYPE.hour] = o, c[this.const.COUNTDOWN_ITEM_TYPE.minute] = l, c[this.const.COUNTDOWN_ITEM_TYPE.seconds] = s, this.isEmpty(e) ? c : c[e]
}, LadiPageScriptV2.prototype.getElementBoundingClientRect = function (t) {
    var e = t.getBoundingClientRect();
    return (this.isNull(e.x) || this.isNull(e.y)) && (e.x = e.left, e.y = e.top), e
}, LadiPageScriptV2.prototype.getElementViewBox = function (t) {
    var e = {x: 0, y: 0, width: 0, height: 0}, i = t.getAttribute("viewBox").split(" ");
    return e.x = parseFloatLadiPage(i[0]) || 0, e.y = parseFloatLadiPage(i[1]) || 0, e.width = parseFloatLadiPage(i[2]) || 0, e.height = parseFloatLadiPage(i[3]) || 0, e
}, LadiPageScriptV2.prototype.getEventCursorData = function (t) {
    return (this.isNull(t.pageX) || this.isNull(t.pageY)) && (!this.isEmpty(t.touches) && t.touches.length > 0 ? (t.pageX = t.touches[0].pageX, t.pageY = t.touches[0].pageY) : !this.isEmpty(t.targetTouches) && t.targetTouches.length > 0 ? (t.pageX = t.targetTouches[0].pageX, t.pageY = t.targetTouches[0].pageY) : !this.isEmpty(t.changedTouches) && t.changedTouches.length > 0 && (t.pageX = t.changedTouches[0].pageX, t.pageY = t.changedTouches[0].pageY)), t
}, LadiPageScriptV2.prototype.getElementAHref = function (t, e) {
    var i = document.createElement("a");
    return !e || t.toLowerCase().startsWith("http://") || t.toLowerCase().startsWith("https://") || (t = "http://" + t), i.href = t, i
}, LadiPageScriptV2.prototype.loadScript = function (t, e, i) {
    var a = document.createElement("script");
    a.type = "text/javascript", e && (a.async = !0), a.addEventListener("load", i), a.src = t, document.head.appendChild(a)
}, LadiPageScriptV2.prototype.isObject = function (t) {
    return !this.isFunction(t) && !this.isArray(t) && t instanceof Object
}, LadiPageScriptV2.prototype.isArray = function (t) {
    return t instanceof Array
}, LadiPageScriptV2.prototype.isFunction = function (t) {
    return "function" == typeof t || t instanceof Function
}, LadiPageScriptV2.prototype.isString = function (t) {
    return "string" == typeof t || t instanceof String
}, LadiPageScriptV2.prototype.isEmpty = function (t) {
    return !!this.isNull(t) || (this.isString(t) ? 0 == (t = t.trim()).length || "undefined" == t.toLowerCase() : !!this.isArray(t) && 0 == t.length)
}, LadiPageScriptV2.prototype.isNull = function (t) {
    return void 0 === t || void 0 == t
};
var Base64 = {
    _keyStr: "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=", encode: function (t) {
        var e, i, a, n, r, o, l, s = "", c = 0;
        for (t = Base64._utf8_encode(t); c < t.length;) n = (e = t.charCodeAt(c++)) >> 2, r = (3 & e) << 4 | (i = t.charCodeAt(c++)) >> 4, o = (15 & i) << 2 | (a = t.charCodeAt(c++)) >> 6, l = 63 & a, isNaN(i) ? o = l = 64 : isNaN(a) && (l = 64), s = s + Base64._keyStr.charAt(n) + Base64._keyStr.charAt(r) + Base64._keyStr.charAt(o) + Base64._keyStr.charAt(l);
        return s
    }, decode: function (t) {
        var e, i, a, n, r, o, l = "", s = 0;
        for (t = t.replace(/[^A-Za-z0-9\+\/\=]/g, ""); s < t.length;) e = Base64._keyStr.indexOf(t.charAt(s++)) << 2 | (n = Base64._keyStr.indexOf(t.charAt(s++))) >> 4, i = (15 & n) << 4 | (r = Base64._keyStr.indexOf(t.charAt(s++))) >> 2, a = (3 & r) << 6 | (o = Base64._keyStr.indexOf(t.charAt(s++))), l += String.fromCharCode(e), 64 != r && (l += String.fromCharCode(i)), 64 != o && (l += String.fromCharCode(a));
        return l = Base64._utf8_decode(l)
    }, _utf8_encode: function (t) {
        t = t.replace(/\r\n/g, "\n");
        for (var e = "", i = 0; i < t.length; i++) {
            var a = t.charCodeAt(i);
            a < 128 ? e += String.fromCharCode(a) : a > 127 && a < 2048 ? (e += String.fromCharCode(a >> 6 | 192), e += String.fromCharCode(63 & a | 128)) : (e += String.fromCharCode(a >> 12 | 224), e += String.fromCharCode(a >> 6 & 63 | 128), e += String.fromCharCode(63 & a | 128))
        }
        return e
    }, _utf8_decode: function (t) {
        for (var e = "", i = 0, a = 0, n = 0, r = 0; i < t.length;) (a = t.charCodeAt(i)) < 128 ? (e += String.fromCharCode(a), i++) : a > 191 && a < 224 ? (r = t.charCodeAt(i + 1), e += String.fromCharCode((31 & a) << 6 | 63 & r), i += 2) : (r = t.charCodeAt(i + 1), n = t.charCodeAt(i + 2), e += String.fromCharCode((15 & a) << 12 | (63 & r) << 6 | 63 & n), i += 3);
        return e
    }
}, LadiPageScript = LadiPageScript || new LadiPageScriptV2;
LadiPageScript.init();
var LadiFormApi = LadiFormApi || {}, parseFloatLadiPage = function (t, e) {
    var i = parseFloat(t);
    return parseFloat(LadiPageScript.formatNumber(i, 21, null, e || 6))
}, lightbox_run = function (t, e, i, a, n, r, o, l) {
    var s = document.getElementById(LadiPageScript.runtime.lightbox_screen_id);
    if (!LadiPageScript.isEmpty(s)) {
        var c = JSON.stringify({html: t, url: e, is_video: i, video_type: r, video_value: o}),
            d = Object.keys(LadiPageScript.runtime.list_lightbox_id);
        -1 == d.indexOf(c) && (LadiPageScript.runtime.list_lightbox_id[c] = d.length + 1);
        var u = LadiPageScript.runtime.list_lightbox_id[c];
        n = n + "_" + u;
        var p = document.getElementById(n), m = !1;
        LadiPageScript.isEmpty(p) ? (p = document.createElement("div"), s.appendChild(p), p.outerHTML = t, p = s.lastChild, m = !0) : i && LadiPageScript.runEventReplayVideo(n, r, !0);
        var g = document.createElement("div");
        g.className = "lightbox-close", g.setAttribute("data-hidden", !0), s.appendChild(g), p.setAttribute("id", n), p.setAttribute("data-hidden", !0), p.classList.remove("lightbox-hidden");
        var y = function () {
            if (p = p = document.getElementById(n), !LadiPageScript.isEmpty(p)) {
                if ("IFRAME" == p.tagName) {
                    var t = parseFloatLadiPage(getComputedStyle(p).width) || 0,
                        e = parseFloatLadiPage(getComputedStyle(p).height) || 0;
                    if (t > 0 || e > 0) {
                        var i = .9 * document.body.clientWidth, a = .9 * LadiPageScript.getHeightDevice(), r = i,
                            o = e / t * r;
                        o > a && (r = (o = a) * (t / e)), p.style.setProperty("width", (parseFloatLadiPage(r) || 0) + "px"), p.style.setProperty("height", (parseFloatLadiPage(o) || 0) + "px")
                    }
                }
                if (g = s.getElementsByClassName("lightbox-close")[0], !LadiPageScript.isEmpty(g)) {
                    var l = LadiPageScript.getElementBoundingClientRect(p), c = 10, d = 10;
                    l.x - 5 - g.clientWidth > d && (d = l.x - 5 - g.clientWidth), l.y - 5 - g.clientHeight > c && (c = l.y - 5 - g.clientHeight), d += LadiPageScript.runtime.widthScrollBar, g.style.setProperty("right", d + "px"), g.style.setProperty("top", c + "px")
                }
            }
        }, _ = function () {
            LadiPageScript.runTimeout(function () {
                p = p = document.getElementById(n), LadiPageScript.isEmpty(p) || (p.setAttribute("data-opacity", 0), p.removeAttribute("data-hidden")), g = s.getElementsByClassName("lightbox-close")[0], LadiPageScript.isEmpty(g) || (g.setAttribute("data-opacity", 0), g.removeAttribute("data-hidden")), y(), LadiPageScript.isEmpty(p) || p.removeAttribute("data-opacity"), LadiPageScript.isEmpty(g) || g.removeAttribute("data-opacity")
            }, 100)
        };
        g.style.setProperty("top", "-100px"), g.style.setProperty("right", "-100px");
        var f = "load";
        if (i && r == LadiPageScript.const.VIDEO_TYPE.direct && (f = "loadedmetadata"), m && (p.addEventListener(f, _), p.addEventListener("error", _)), i) {
            var h = e;
            r == LadiPageScript.const.VIDEO_TYPE.youtube && (e = null, h = o), m ? LadiPageScript.runEventPlayVideo(n, r, h, !1, !1, !0, !1, l, function (t) {
                LadiPageScript.isEmpty(t) ? _() : (t.addEventListener(f, _), t.addEventListener("error", _))
            }) : _()
        }
        l || s.style.setProperty("display", "block"), LadiPageScript.isEmpty(e) || (m ? p.src = e : _());
        var v = function () {
            var t = document.getElementById(LadiPageScript.runtime.backdrop_popup_id);
            return LadiPageScript.isEmpty(t) || "none" == getComputedStyle(t).display
        }, E = 0;
        v() ? (E = window.scrollY, LadiPageScript.runtime.tmp.bodyScrollY = E) : E = LadiPageScript.runtime.tmp.bodyScrollY;
        var L = function () {
            s.style.removeProperty("display"), p = p = document.getElementById(n), LadiPageScript.isEmpty(p) || (a && !i ? p.parentElement.removeChild(p) : (p.classList.add("lightbox-hidden"), i && LadiPageScript.runEventReplayVideo(n, r, !1))), g = s.getElementsByClassName("lightbox-close")[0], LadiPageScript.isEmpty(g) || g.parentElement.removeChild(g);
            var t = document.getElementById("style_lightbox");
            LadiPageScript.isEmpty(t) || t.parentElement.removeChild(t);
            var e = v();
            e && !LadiPageScript.isEmpty(LadiPageScript.runtime.tmp.bodyScrollY) && window.scrollTo(0, LadiPageScript.runtime.tmp.bodyScrollY), e && (LadiPageScript.runtime.tmp.bodyScrollY = null)
        };
        if (g.addEventListener("click", function (t) {
            t.stopPropagation(), L()
        }), !l) {
            var P = "body {";
            P += "position: fixed !important;", P += "width: 100% !important;", P += "top: -" + E + "px", P += "}", LadiPageScript.createStyleElement("style_lightbox", P)
        }
        LadiPageScript.isEmpty(s.getAttribute("data-load-event")) && (s.setAttribute("data-load-event", !0), s.addEventListener("click", function (t) {
            t.stopPropagation(), t.target.id == s.id && (g = s.getElementsByClassName("lightbox-close")[0], LadiPageScript.isEmpty(g) || g.click())
        }), window.addEventListener("resize", y)), l && L()
    }
}, lightbox_iframe = function (t, e, i, a, n, r) {
    if (!LadiPageScript.isEmpty(t)) {
        var o = "margin: auto; position: absolute; top: 0; left: 0; bottom: 0; right: 0; max-width: 90%; max-height: 90%;",
            l = '<iframe id="' + (i = i || "lightbox_iframe") + '" class="lightbox-item" style="' + o + '" frameborder="0" allowfullscreen></iframe>',
            s = t, c = LadiPageScript.createTmpElement("iframe", s, null, !0);
        LadiPageScript.isEmpty(c) || "IFRAME" != c.tagName || (s = c.src, i = c.id || i, c.removeAttribute("src"), c.setAttribute("style", o), c.classList.add("lightbox-item"), l = c.outerHTML), lightbox_run(l, s, e, !0, i, a, n, r)
    }
}, lightbox_image = function (t) {
    if (!LadiPageScript.isEmpty(t)) {
        lightbox_run('<img class="lightbox-item" style="margin: auto; position: absolute; top: 0; left: 0; bottom: 0; right: 0; object-fit: scale-down; max-width: 90%; max-height: 90%;" />', t, !1, !1, "lightbox_image")
    }
}, lightbox_video = function (t, e, i) {
    if (!LadiPageScript.isEmpty(t) && !LadiPageScript.isEmpty(e)) {
        LadiPageScript.pauseAllVideo();
        var a = "lightbox_player";
        if (e == LadiPageScript.const.VIDEO_TYPE.youtube && lightbox_iframe('<iframe id="' + a + '" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture"></iframe>', !0, a, e, t, i), e == LadiPageScript.const.VIDEO_TYPE.direct) {
            lightbox_run('<video class="lightbox-item" id="lightbox_player" style="margin: auto; position: absolute; top: 0; left: 0; bottom: 0; right: 0; max-width: 90%; max-height: 90%; object-fit: cover;"></video>', t, !0, !1, a, e, null, i)
        }
    }
}, LadiPageLibraryV2 = LadiPageLibraryV2 || function () {
};
LadiPageLibraryV2.prototype.get_url = function (t, e) {
    if (!LadiPageScript.isEmpty(this.id)) {
        var i = this.id, a = "";
        if (e && LadiPageScript.isObject(t)) Object.keys(t).forEach(function (e) {
            LadiPageScript.isEmpty(a) || (a += "&"), a += e + "=" + encodeURIComponent(t[e])
        });
        if (!LadiPageScript.isEmpty(a)) {
            var n = LadiPageScript.createTmpElement("a", "", {href: i});
            n.search = n.search + (LadiPageScript.isEmpty(n.search) ? "?" : "&") + a, i = n.href
        }
        return i = LadiPageScript.getLinkUTMRedirect(i, window.location.search), i = LadiPageScript.convertDataReplaceStr(i, !0, null, !1, t)
    }
}, LadiPageLibraryV2.prototype.open_url = function (t) {
    if (!LadiPageScript.isEmpty(this.id)) {
        var e = this.id;
        LadiPageScript.isEmpty(t) || "_self" == t.toLowerCase() ? window.location.href = e : window.open(e, t)
    }
}, LadiPageLibraryV2.prototype.submit = function () {
    // var t = document.getElementById(this.id);
    // if (!LadiPageScript.isEmpty(t)) {
    //     var e = t.querySelector('.ladi-form button[type="submit"]');
    //     LadiPageScript.isEmpty(e) || e.click()
    // }
}, LadiPageLibraryV2.prototype.scroll = function () {
    var t = document.getElementById(this.id);
    if (!LadiPageScript.isEmpty(t)) {
        for (var e = document.querySelectorAll("#" + LadiPageScript.runtime.builder_section_popup_id + " .ladi-container > .ladi-element"), i = 0; i < e.length; i++) e[i].id != this.id && e[i].hasAttribute("data-popup-backdrop") && "block" == e[i].style.getPropertyValue("display") && LadiPageScript.runRemovePopup(e[i].id, !0);
        var a = function () {
            t.scrollIntoView({/*behavior: "smooth"*/})
        };
        try {
            if (!LadiPageScript.isNull(window.jQuery)) return void $("html, body").animate({scrollTop: $(t).offset().top});
            a()
        } catch (t) {
            a()
        }
    }
}, LadiPageLibraryV2.prototype.value = function (t) {
    if (!LadiPageScript.isEmpty(this.id)) {
        var e = document.querySelectorAll("#" + this.id + " > ." + ["ladi-button .ladi-headline", "ladi-headline", "ladi-paragraph", "ladi-list-paragraph"].join(", #" + this.id + " > .")),
            i = document.querySelectorAll("#" + this.id + " > ." + ["ladi-form-item-container .ladi-form-item > input", "ladi-form-item-container .ladi-form-item > textarea", "ladi-form-item-container .ladi-form-item > select"].join(", #" + this.id + " > .")),
            a = document.querySelectorAll("#" + this.id + " > ." + ["ladi-form-item-container .ladi-form-checkbox-item > input"].join(", #" + this.id + " > .")),
            n = 0;
        for (n = 0; n < e.length; n++) e[n].innerHTML = t;
        for (n = 0; n < i.length; n++) i[n].value = t;
        var r = LadiPageScript.isArray(t) ? t : [t];
        for (n = 0; n < a.length; n++) {
            var o = !1;
            "checkbox" == a[n].getAttribute("type").toLowerCase() && -1 != r.indexOf(a[n].value) && (o = !0), "radio" == a[n].getAttribute("type").toLowerCase() && r.length > 0 && r[0] == a[n].value && (o = !0), o ? a[n].checked || a[n].click() : a[n].checked && a[n].click()
        }
    }
}, LadiPageLibraryV2.prototype.top = function () {
    var t = document.getElementById(this.id);
    if (!LadiPageScript.isEmpty(t) && t.classList.contains("ladi-section")) try {
        t.parentElement.insertBefore(t, t.parentElement.firstChild), LadiPageScript.reloadLazyload()
    } catch (t) {
    }
}, LadiPageLibraryV2.prototype.pause = function () {
    var t = document.getElementById(this.id);
    if (!LadiPageScript.isEmpty(t)) {
        var e = LadiPageScript.runtime.eventData[this.id];
        if (!LadiPageScript.isEmpty(e) && "video" == e.type) {
            var i = t.querySelector(".iframe-video-preload:not(.no-pause)");
            LadiPageScript.isEmpty(i) || LadiPageScript.runEventReplayVideo(i.id, i.getAttribute("data-video-type"), !1)
        }
    }
}, LadiPageLibraryV2.prototype.play = function () {
    var t = document.getElementById(this.id);
    if (!LadiPageScript.isEmpty(t)) {
        var e = LadiPageScript.runtime.eventData[this.id];
        if (!LadiPageScript.isEmpty(e) && "video" == e.type) {
            var i = e["option.video_type"], a = e["option.video_value"], n = e["option.video_control"];
            LadiPageScript.playVideo(this.id, i, a, n)
        }
    }
}, LadiPageLibraryV2.prototype.prev = function () {
    var t = document.getElementById(this.id);
    if (!LadiPageScript.isEmpty(t)) {
        var e = LadiPageScript.runtime.eventData[this.id];
        if (!LadiPageScript.isEmpty(e)) {
            var i = null;
            "gallery" == e.type && (i = t.querySelector(".ladi-gallery-view-arrow.ladi-gallery-view-arrow-left")), "carousel" == e.type && (i = t.querySelector(".ladi-carousel-arrow.ladi-carousel-arrow-left")), "collection" == e.type && (i = t.querySelector(".ladi-collection-arrow.ladi-collection-arrow-left")), LadiPageScript.isEmpty(i) || i.click()
        }
    }
}, LadiPageLibraryV2.prototype.next = function () {
    var t = document.getElementById(this.id);
    if (!LadiPageScript.isEmpty(t)) {
        var e = LadiPageScript.runtime.eventData[this.id];
        if (!LadiPageScript.isEmpty(e)) {
            var i = null;
            "gallery" == e.type && (i = t.querySelector(".ladi-gallery-view-arrow.ladi-gallery-view-arrow-right")), "carousel" == e.type && (i = t.querySelector(".ladi-carousel-arrow.ladi-carousel-arrow-right")), "collection" == e.type && (i = t.querySelector(".ladi-collection-arrow.ladi-collection-arrow-right, .ladi-collection-button-next")), LadiPageScript.isEmpty(i) || i.click()
        }
    }
}, LadiPageLibraryV2.prototype.hide = function () {
    var t = document.getElementById(this.id);
    LadiPageScript.isEmpty(t) || (0 == t.getElementsByClassName("ladi-popup").length ? (t.style.setProperty("display", "none", "important"), LadiPageScript.reloadLazyload()) : LadiPageScript.runRemovePopup(this.id, !0, function () {
        for (var t = document.querySelectorAll("#" + LadiPageScript.runtime.builder_section_popup_id + " .ladi-container > .ladi-element"), e = 0; e < t.length; e++) t[e].id != this.id && t[e].hasAttribute("data-popup-backdrop") && "block" == t[e].style.getPropertyValue("display") && LadiPageScript.runRemovePopup(t[e].id, !0)
    }))
}, LadiPageLibraryV2.prototype.show = function () {
    var t = document.getElementById(this.id);
    if (!LadiPageScript.isEmpty(t)) {
        var e = this, i = function () {
            var i = LadiPageScript.runtime.eventData[e.id];
            LadiPageScript.isEmpty(i) || LadiPageScript.startAutoScroll(e.id, i.type, i[LadiPageScript.const.DESKTOP + ".option.auto_scroll"], i[LadiPageScript.const.MOBILE + ".option.auto_scroll"]);
            for (var a = t.getElementsByClassName("ladi-element"), n = 0; n < a.length; n++) {
                var r = LadiPageScript.runtime.eventData[a[n].id];
                LadiPageScript.isEmpty(r) || LadiPageScript.startAutoScroll(a[n].id, r.type, r[LadiPageScript.const.DESKTOP + ".option.auto_scroll"], r[LadiPageScript.const.MOBILE + ".option.auto_scroll"])
            }
        };
        0 == t.getElementsByClassName("ladi-popup").length ? (t.style.setProperty("display", "block", "important"), i(), LadiPageScript.runResizeSectionBackground(), LadiPageScript.reloadLazyload()) : (LadiPageScript.runShowPopup(this.id, null, null, !0, function () {
            for (var t = document.querySelectorAll("#" + LadiPageScript.runtime.builder_section_popup_id + " .ladi-container > .ladi-element"), e = 0; e < t.length; e++) t[e].id != this.id && t[e].hasAttribute("data-popup-backdrop") && "block" == t[e].style.getPropertyValue("display") && LadiPageScript.runRemovePopup(t[e].id, !0)
        }), LadiPageScript.removeLazyloadPopup(this.id), i(), LadiPageScript.runResizeSectionBackground())
    }
}, ["start", "add_turn"].forEach(function (t) {
    LadiPageLibraryV2.prototype[t] = function () {
        var e = LadiPageScript.runtime.eventData[this.id];
        if (!LadiPageScript.isEmpty(e)) {
            var i = LadiPageApp[e.type + LadiPageScript.const.APP_RUNTIME_PREFIX];
            if (!LadiPageScript.isEmpty(i)) {
                var a = i(e, !0);
                LadiPageScript.isFunction(a[t]) && a[t](this.id)
            }
        }
    }
});
var LadiPageAppV2, ladi = ladi || function (t) {
    if (!LadiPageScript.isEmpty(t)) {
        var e = new LadiPageLibraryV2;
        return e.id = t, e
    }
};
LadiPageScript.const.API_ANALYTICS_EVENT = "https://a.ladipage.com/event", LadiPageScript.const.API_COLLECTION_PRODUCT = "https://api.ladisales.com/2.0/public/collections/products", LadiPageScript.const.API_SHOW_PRODUCT = "https://api.ladisales.com/2.0/public/product/show", LadiPageScript.const.API_LADISALE_ADD = "https://api.ladisales.com/2.0/cart/add", LadiPageScript.const.API_LADISALE_UPDATE = "https://api.ladisales.com/2.0/cart/update", LadiPageScript.const.API_LADISALE_SHOW = "https://api.ladisales.com/2.0/cart/show", LadiPageScript.const.API_LADISALE_GET_SHIPPING = "https://api.ladisales.com/2.0/checkout/{0}/get-shipping", LadiPageScript.const.API_LADISALE_VALIDATE_DISCOUNT = "https://api.ladisales.com/2.0/checkout/{0}/validate-discount", LadiPageScript.const.API_FORM_DATA = "https://api.form.ladipage.com/sendform", LadiPageScript.const.CDN_LIBRARY_JS_URL = "https://w.ladicdn.com/v2/source/", LadiPageScript.const.CDN_LIBRARY_CSS_URL = "https://w.ladicdn.com/v2/source/", (LadiPageAppV2 = LadiPageAppV2 || function () {
}).prototype.notify_runtime = function (t, e) {
    var i = function () {
        }, a = null, n = "top_left", r = "top_center", o = "top_right", l = "bottom_left", s = "bottom_center",
        c = "bottom_right";
    return i.prototype.run = function (e, i) {
        var d = t["option.sheet_id"];
        if (!LadiPageScript.isEmpty(d)) {
            var u = document.getElementById(e), p = i ? LadiPageScript.const.DESKTOP : LadiPageScript.const.MOBILE,
                m = t[p + ".option.position"], g = 1e3 * (parseFloatLadiPage(t["option.time_show"]) || 5),
                y = 1e3 * (parseFloatLadiPage(t["option.time_delay"]) || 10),
                _ = "https://static.ladipage.net/source/notify.svg",
                f = [{key: "gsx$title", className: ".ladi-notify-title"}, {
                    key: "gsx$content",
                    className: ".ladi-notify-content"
                }, {key: "gsx$time", className: ".ladi-notify-time"}, {
                    key: "gsx$image",
                    className: ".ladi-notify-image img"
                }], h = function () {
                    u.style.setProperty("opacity", 0), m != n && m != r && m != o || u.style.setProperty("top", -u.clientHeight - 100 + "px"), m != l && m != s && m != c || u.style.setProperty("bottom", -u.clientHeight - 100 + "px")
                };
            h(), f.forEach(function (t) {
                "gsx$image" == t.key ? u.querySelectorAll(t.className)[0].src = _ : u.querySelectorAll(t.className)[0].textContent = ""
            });
            var v = function (t) {
                t = t.sort(function () {
                    return .5 - Math.random()
                });
                var e = -1, i = function () {
                    if (e + 1 < t.length) {
                        var d = t[++e], p = Object.keys(d);
                        u.style.removeProperty("opacity"), m != n && m != r && m != o || u.style.removeProperty("top"), m != l && m != s && m != c || u.style.removeProperty("bottom"), f.forEach(function (t) {
                            -1 != p.indexOf(t.key) && ("gsx$image" == t.key ? u.querySelectorAll(t.className)[0].src = LadiPageScript.isEmpty(d[t.key].$t) ? _ : d[t.key].$t : u.querySelectorAll(t.className)[0].textContent = d[t.key].$t)
                        }), a = LadiPageScript.runTimeout(function () {
                            h(), a = LadiPageScript.runTimeout(i, y)
                        }, g)
                    } else v(t)
                };
                a = LadiPageScript.runTimeout(i, y)
            };
            LadiPageScript.sendRequest("GET", "https://spreadsheets.google.com/feeds/list/" + d + "/1/public/values?alt=json", null, !0, null, function (t, e, i) {
                if (i.readyState == XMLHttpRequest.DONE && 200 == e) {
                    u.querySelector(".ladi-notify").classList.remove("ladi-hidden");
                    var a = JSON.parse(t).feed.entry;
                    u.classList.add("ladi-notify-transition"), v(a)
                }
            })
        }
    }, i.prototype.stop = function (t, e) {
        LadiPageScript.removeTimeout(a), a = null
    }, new i
}, (LadiPageAppV2 = LadiPageAppV2 || function () {
}).prototype.spinlucky_runtime = function (t, e) {
    var i = function () {
    }, a = function (t) {
        return parseFloatLadiPage(LadiPageScript.getCookie("_total_turn_" + t)) || 0
    };
    return i.prototype.getEventTrackingCategory = function () {
        return "LadiPageFinish"
    }, i.prototype.run = function (e, i) {
        var n = t["option.spinlucky_setting.list_value"], r = t["option.spinlucky_setting.result_popup_id"],
            o = t["option.spinlucky_setting.result_message"], l = t["option.spinlucky_setting.max_turn"], s = a(e);
        if (!LadiPageScript.isEmpty(n)) {
            LadiPageScript.setDataReplaceStr("spin_turn_left", l - s);
            var c = document.getElementById(e), d = c.getElementsByClassName("ladi-spin-lucky-start")[0],
                u = c.getElementsByClassName("ladi-spin-lucky-screen")[0], p = !1;
            d.addEventListener("click", function (t) {
                if (t.stopPropagation(), !p) if ((s = a(e)) >= l) LadiPageScript.showMessage(LadiPageScript.const.LANG.GAME_MAX_TURN_MESSAGE.format(l)); else {
                    p = !0;
                    var i = [], c = 0, d = 1;
                    n.forEach(function (t, e) {
                        var a = Base64.decode(t).split("|"), n = a[0].trim(), r = a[1].trim(),
                            o = parseFloatLadiPage(a[2].trim()) || 0;
                        i.push({min: d, max: d + o - 1, value: n, text: r, percent: o, index: e}), d += o, c += o
                    });
                    for (var m = LadiPageScript.randomInt(1, c), g = null, y = 0; y < i.length; y++) if (i[y].min <= m && i[y].max >= m) {
                        g = i[y];
                        break
                    }
                    if (LadiPageScript.isEmpty(g)) p = !1; else {
                        var _ = parseFloatLadiPage(u.getAttribute("data-rotate")) || 0,
                            f = g.index * (360 / i.length) + 360 * (4 + Math.ceil(_ / 360)) + 180 / i.length,
                            h = "rotate(" + f + "deg)";
                        u.setAttribute("data-rotate", f), u.style.setProperty("transform", h), u.style.setProperty("-webkit-transform", h), "NEXT_TURN" != g.value.toUpperCase() && (s++, LadiPageScript.setCookie(null, "_total_turn_" + e, s, 1, !1, window.location.pathname));
                        LadiPageScript.runTimeout(function () {
                            "NEXT_TURN" == g.value.toUpperCase() ? LadiPageScript.isEmpty(g.text) || LadiPageScript.showMessage(g.text) : (LadiPageScript.setDataReplaceStr("coupon", g.value), LadiPageScript.setDataReplaceStr("coupon_code", g.value), LadiPageScript.setDataReplaceStr("coupon_text", g.text), LadiPageScript.setDataReplaceStr("spin_turn_left", l - s), LadiPageScript.setDataReplaceElement(!0, !1, null, null, ["coupon"]), r == LadiPageScript.const.GAME_RESULT_TYPE.default ? LadiPageScript.isEmpty(o) || LadiPageScript.showMessage(o) : window.ladi(r).show(), LadiPageScript.runEventTracking(e, !1)), p = !1
                        }, 1e3 * parseFloatLadiPage(getComputedStyle(u).transitionDuration) + 1e3)
                    }
                }
            })
        }
    }, i.prototype.stop = function (t, e) {
    }, i.prototype.start = function (t) {
        var e = document.getElementById(t);
        if (!LadiPageScript.isEmpty(e) && e.getElementsByClassName("ladi-spin-lucky").length > 0) {
            var i = e.getElementsByClassName("ladi-spin-lucky-start")[0];
            LadiPageScript.isEmpty(i) || i.click()
        }
    }, i.prototype.add_turn = function (e) {
        var i = t["option.spinlucky_setting.max_turn"], n = a(e);
        n > 0 && n--, LadiPageScript.setCookie(null, "_total_turn_" + e, n, 1, !1, window.location.pathname), LadiPageScript.setDataReplaceStr("spin_turn_left", i - n), LadiPageScript.setDataReplaceElement(!1)
    }, new i
};